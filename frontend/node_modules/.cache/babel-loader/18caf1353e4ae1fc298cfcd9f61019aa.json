{"ast":null,"code":"var _jsxFileName = \"/app/src/components/MessageOptionsMenu/index.js\";\nimport React, { useState, useContext } from \"react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\nconst MessageOptionsMenu = ({\n  message,\n  menuOpen,\n  handleClose,\n  anchorEl\n}) => {\n  const {\n    setReplyingMessage\n  } = useContext(ReplyMessageContext);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const handleDeleteMessage = async () => {\n    try {\n      await api.delete(`/messages/${message.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  const hanldeReplyMessage = () => {\n    setReplyingMessage(message);\n    handleClose();\n  };\n  const handleOpenConfirmationModal = e => {\n    setConfirmationOpen(true);\n    handleClose();\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ConfirmationModal, {\n    title: i18n.t(\"messageOptionsMenu.confirmationModal.title\"),\n    open: confirmationOpen,\n    onClose: setConfirmationOpen,\n    onConfirm: handleDeleteMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 4\n    }\n  }, i18n.t(\"messageOptionsMenu.confirmationModal.message\")), /*#__PURE__*/React.createElement(Menu, {\n    anchorEl: anchorEl,\n    getContentAnchorEl: null,\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"right\"\n    },\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    open: menuOpen,\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 4\n    }\n  }, message.fromMe && /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleOpenConfirmationModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 6\n    }\n  }, i18n.t(\"messageOptionsMenu.delete\")), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: hanldeReplyMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, i18n.t(\"messageOptionsMenu.reply\"))));\n};\nexport default MessageOptionsMenu;","map":{"version":3,"names":["React","useState","useContext","MenuItem","i18n","api","ConfirmationModal","Menu","ReplyMessageContext","toastError","MessageOptionsMenu","message","menuOpen","handleClose","anchorEl","setReplyingMessage","confirmationOpen","setConfirmationOpen","handleDeleteMessage","delete","id","err","hanldeReplyMessage","handleOpenConfirmationModal","e","createElement","Fragment","title","t","open","onClose","onConfirm","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","fromMe","onClick"],"sources":["/app/src/components/MessageOptionsMenu/index.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst MessageOptionsMenu = ({ message, menuOpen, handleClose, anchorEl }) => {\n\tconst { setReplyingMessage } = useContext(ReplyMessageContext);\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\n\tconst handleDeleteMessage = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/messages/${message.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst hanldeReplyMessage = () => {\n\t\tsetReplyingMessage(message);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteMessage}\n\t\t\t>\n\t\t\t\t{i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<Menu\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{message.fromMe && (\n\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t{i18n.t(\"messageOptionsMenu.delete\")}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t)}\n\t\t\t\t<MenuItem onClick={hanldeReplyMessage}>\n\t\t\t\t\t{i18n.t(\"messageOptionsMenu.reply\")}\n\t\t\t\t</MenuItem>\n\t\t\t</Menu>\n\t\t</>\n\t);\n};\n\nexport default MessageOptionsMenu;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAEnD,OAAOC,QAAQ,MAAM,4BAA4B;AAEjD,SAASC,IAAI,QAAQ,sBAAsB;AAC3C,OAAOC,GAAG,MAAM,oBAAoB;AACpC,OAAOC,iBAAiB,MAAM,sBAAsB;AACpD,SAASC,IAAI,QAAQ,mBAAmB;AACxC,SAASC,mBAAmB,QAAQ,sDAAsD;AAC1F,OAAOC,UAAU,MAAM,yBAAyB;AAEhD,MAAMC,kBAAkB,GAAGA,CAAC;EAAEC,OAAO;EAAEC,QAAQ;EAAEC,WAAW;EAAEC;AAAS,CAAC,KAAK;EAC5E,MAAM;IAAEC;EAAmB,CAAC,GAAGb,UAAU,CAACM,mBAAmB,CAAC;EAC9D,MAAM,CAACQ,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAE/D,MAAMiB,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACvC,IAAI;MACH,MAAMb,GAAG,CAACc,MAAM,CAAE,aAAYR,OAAO,CAACS,EAAG,EAAC,CAAC;IAC5C,CAAC,CAAC,OAAOC,GAAG,EAAE;MACbZ,UAAU,CAACY,GAAG,CAAC;IAChB;EACD,CAAC;EAED,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;IAChCP,kBAAkB,CAACJ,OAAO,CAAC;IAC3BE,WAAW,CAAC,CAAC;EACd,CAAC;EAED,MAAMU,2BAA2B,GAAGC,CAAC,IAAI;IACxCP,mBAAmB,CAAC,IAAI,CAAC;IACzBJ,WAAW,CAAC,CAAC;EACd,CAAC;EAED,oBACCb,KAAA,CAAAyB,aAAA,CAAAzB,KAAA,CAAA0B,QAAA,qBACC1B,KAAA,CAAAyB,aAAA,CAACnB,iBAAiB;IACjBqB,KAAK,EAAEvB,IAAI,CAACwB,CAAC,CAAC,4CAA4C,CAAE;IAC5DC,IAAI,EAAEb,gBAAiB;IACvBc,OAAO,EAAEb,mBAAoB;IAC7Bc,SAAS,EAAEb,mBAAoB;IAAAc,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAE9BjC,IAAI,CAACwB,CAAC,CAAC,8CAA8C,CACpC,CAAC,eACpB5B,KAAA,CAAAyB,aAAA,CAAClB,IAAI;IACJO,QAAQ,EAAEA,QAAS;IACnBwB,kBAAkB,EAAE,IAAK;IACzBC,YAAY,EAAE;MACbC,QAAQ,EAAE,QAAQ;MAClBC,UAAU,EAAE;IACb,CAAE;IACFC,eAAe,EAAE;MAChBF,QAAQ,EAAE,KAAK;MACfC,UAAU,EAAE;IACb,CAAE;IACFZ,IAAI,EAAEjB,QAAS;IACfkB,OAAO,EAAEjB,WAAY;IAAAmB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAEpB1B,OAAO,CAACgC,MAAM,iBACd3C,KAAA,CAAAyB,aAAA,CAACtB,QAAQ;IAACyC,OAAO,EAAErB,2BAA4B;IAAAS,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC7CjC,IAAI,CAACwB,CAAC,CAAC,2BAA2B,CAC1B,CACV,eACD5B,KAAA,CAAAyB,aAAA,CAACtB,QAAQ;IAACyC,OAAO,EAAEtB,kBAAmB;IAAAU,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACpCjC,IAAI,CAACwB,CAAC,CAAC,0BAA0B,CACzB,CACL,CACL,CAAC;AAEL,CAAC;AAED,eAAelB,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module"}