{"ast":null,"code":"var _jsxFileName = \"/app/src/components/QueueSelect/index.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nconst useStyles = makeStyles(theme => ({\n  chips: {\n    display: \"flex\",\n    flexWrap: \"wrap\"\n  },\n  chip: {\n    margin: 2\n  }\n}));\nconst QueueSelect = ({\n  selectedQueueIds,\n  onChange,\n  multiple = true,\n  title = i18n.t(\"queueSelect.inputLabel\")\n}) => {\n  const classes = useStyles();\n  const [queues, setQueues] = useState([]);\n  useEffect(() => {\n    fetchQueues();\n  }, []);\n  const fetchQueues = async () => {\n    try {\n      const {\n        data\n      } = await api.get(\"/queue\");\n      setQueues(data);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  const handleChange = e => {\n    onChange(e.target.value);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    fullWidth: true,\n    margin: \"dense\",\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(InputLabel, {\n    shrink: selectedQueueIds ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, title), /*#__PURE__*/React.createElement(Select, {\n    label: title,\n    multiple: multiple,\n    labelWidth: 60,\n    value: selectedQueueIds,\n    onChange: handleChange,\n    MenuProps: {\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"left\"\n      },\n      transformOrigin: {\n        vertical: \"top\",\n        horizontal: \"left\"\n      },\n      getContentAnchorEl: null\n    },\n    renderValue: selected => {\n      var _queues$find, _queues$find2;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: classes.chips,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 8\n        }\n      }, (selected === null || selected === void 0 ? void 0 : selected.length) > 0 && multiple ? selected.map(id => {\n        const queue = queues.find(q => q.id === id);\n        return queue ? /*#__PURE__*/React.createElement(Chip, {\n          key: id,\n          style: {\n            backgroundColor: queue.color\n          },\n          variant: \"outlined\",\n          label: queue.name,\n          className: classes.chip,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 12\n          }\n        }) : null;\n      }) : /*#__PURE__*/React.createElement(Chip, {\n        key: selected,\n        variant: \"outlined\",\n        style: {\n          backgroundColor: (_queues$find = queues.find(q => q.id === selected)) === null || _queues$find === void 0 ? void 0 : _queues$find.color\n        },\n        label: (_queues$find2 = queues.find(q => q.id === selected)) === null || _queues$find2 === void 0 ? void 0 : _queues$find2.name,\n        className: classes.chip,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, !multiple && /*#__PURE__*/React.createElement(MenuItem, {\n    value: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 20\n    }\n  }, \"Nenhum\"), queues.map(queue => /*#__PURE__*/React.createElement(MenuItem, {\n    key: queue.id,\n    value: queue.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, queue.name)))));\n};\nexport default QueueSelect;","map":{"version":3,"names":["React","useEffect","useState","makeStyles","InputLabel","MenuItem","FormControl","Select","Chip","toastError","api","i18n","useStyles","theme","chips","display","flexWrap","chip","margin","QueueSelect","selectedQueueIds","onChange","multiple","title","t","classes","queues","setQueues","fetchQueues","data","get","err","handleChange","e","target","value","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","fullWidth","variant","shrink","label","labelWidth","MenuProps","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","renderValue","selected","_queues$find","_queues$find2","className","length","map","id","queue","find","q","key","style","backgroundColor","color","name"],"sources":["/app/src/components/QueueSelect/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelect = ({ selectedQueueIds, onChange, multiple = true, title = i18n.t(\"queueSelect.inputLabel\") }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\n\t\tfetchQueues();\n\n\t}, []);\n\n\tconst fetchQueues = async () => {\n\t\ttry {\n\t\t\tconst { data } = await api.get(\"/queue\");\n\t\t\tsetQueues(data);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div >\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel shrink={selectedQueueIds ? true : false} >{title}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tlabel={title}\n\t\t\t\t\tmultiple={multiple}\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\n\t\t\t\t\trenderValue={selected => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t\t{selected?.length > 0 && multiple ? (\n\t\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t\t\t) :\n\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={selected}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queues.find(q => q.id === selected)?.color }}\n\t\t\t\t\t\t\t\t\t\t\tlabel={queues.find(q => q.id === selected)?.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{!multiple && <MenuItem value={null}>Nenhum</MenuItem>}\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}