{"ast":null,"code":"var _jsxFileName = \"/app/src/components/ModalImageCors/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ModalImage from \"react-modal-image\";\nimport api from \"../../services/api\";\nconst useStyles = makeStyles(theme => ({\n  messageMedia: {\n    objectFit: \"cover\",\n    width: 250,\n    height: 200,\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8\n  }\n}));\nconst ModalImageCors = ({\n  imageUrl\n}) => {\n  const classes = useStyles();\n  const [fetching, setFetching] = useState(true);\n  const [blobUrl, setBlobUrl] = useState(\"\");\n  useEffect(() => {\n    if (!imageUrl) return;\n    const fetchImage = async () => {\n      const {\n        data,\n        headers\n      } = await api.get(imageUrl, {\n        responseType: \"blob\"\n      });\n      const url = window.URL.createObjectURL(new Blob([data], {\n        type: headers[\"content-type\"]\n      }));\n      setBlobUrl(url);\n      setFetching(false);\n    };\n    fetchImage();\n  }, [imageUrl]);\n  return /*#__PURE__*/React.createElement(ModalImage, {\n    className: classes.messageMedia,\n    smallSrcSet: fetching ? imageUrl : blobUrl,\n    medium: fetching ? imageUrl : blobUrl,\n    large: fetching ? imageUrl : blobUrl,\n    alt: \"image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 3\n    }\n  });\n};\nexport default ModalImageCors;","map":{"version":3,"names":["React","useState","useEffect","makeStyles","ModalImage","api","useStyles","theme","messageMedia","objectFit","width","height","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","ModalImageCors","imageUrl","classes","fetching","setFetching","blobUrl","setBlobUrl","fetchImage","data","headers","get","responseType","url","window","URL","createObjectURL","Blob","type","createElement","className","smallSrcSet","medium","large","alt","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/app/src/components/ModalImageCors/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport ModalImage from \"react-modal-image\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles(theme => ({\n\tmessageMedia: {\n\t\tobjectFit: \"cover\",\n\t\twidth: 250,\n\t\theight: 200,\n\t\tborderTopLeftRadius: 8,\n\t\tborderTopRightRadius: 8,\n\t\tborderBottomLeftRadius: 8,\n\t\tborderBottomRightRadius: 8,\n\t},\n}));\n\nconst ModalImageCors = ({ imageUrl }) => {\n\tconst classes = useStyles();\n\tconst [fetching, setFetching] = useState(true);\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (!imageUrl) return;\n\t\tconst fetchImage = async () => {\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\n\t\t\t\tresponseType: \"blob\",\n\t\t\t});\n\t\t\tconst url = window.URL.createObjectURL(\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\n\t\t\t);\n\t\t\tsetBlobUrl(url);\n\t\t\tsetFetching(false);\n\t\t};\n\t\tfetchImage();\n\t}, [imageUrl]);\n\n\treturn (\n\t\t<ModalImage\n\t\t\tclassName={classes.messageMedia}\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\n\t\t\talt=\"image\"\n\t\t/>\n\t);\n};\n\nexport default ModalImageCors;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,UAAU,QAAQ,0BAA0B;AAErD,OAAOC,UAAU,MAAM,mBAAmB;AAC1C,OAAOC,GAAG,MAAM,oBAAoB;AAEpC,MAAMC,SAAS,GAAGH,UAAU,CAACI,KAAK,KAAK;EACtCC,YAAY,EAAE;IACbC,SAAS,EAAE,OAAO;IAClBC,KAAK,EAAE,GAAG;IACVC,MAAM,EAAE,GAAG;IACXC,mBAAmB,EAAE,CAAC;IACtBC,oBAAoB,EAAE,CAAC;IACvBC,sBAAsB,EAAE,CAAC;IACzBC,uBAAuB,EAAE;EAC1B;AACD,CAAC,CAAC,CAAC;AAEH,MAAMC,cAAc,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EACxC,MAAMC,OAAO,GAAGZ,SAAS,CAAC,CAAC;EAC3B,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAM,CAACoB,OAAO,EAAEC,UAAU,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EAE1CC,SAAS,CAAC,MAAM;IACf,IAAI,CAACe,QAAQ,EAAE;IACf,MAAMM,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC9B,MAAM;QAAEC,IAAI;QAAEC;MAAQ,CAAC,GAAG,MAAMpB,GAAG,CAACqB,GAAG,CAACT,QAAQ,EAAE;QACjDU,YAAY,EAAE;MACf,CAAC,CAAC;MACF,MAAMC,GAAG,GAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CACrC,IAAIC,IAAI,CAAC,CAACR,IAAI,CAAC,EAAE;QAAES,IAAI,EAAER,OAAO,CAAC,cAAc;MAAE,CAAC,CACnD,CAAC;MACDH,UAAU,CAACM,GAAG,CAAC;MACfR,WAAW,CAAC,KAAK,CAAC;IACnB,CAAC;IACDG,UAAU,CAAC,CAAC;EACb,CAAC,EAAE,CAACN,QAAQ,CAAC,CAAC;EAEd,oBACCjB,KAAA,CAAAkC,aAAA,CAAC9B,UAAU;IACV+B,SAAS,EAAEjB,OAAO,CAACV,YAAa;IAChC4B,WAAW,EAAEjB,QAAQ,GAAGF,QAAQ,GAAGI,OAAQ;IAC3CgB,MAAM,EAAElB,QAAQ,GAAGF,QAAQ,GAAGI,OAAQ;IACtCiB,KAAK,EAAEnB,QAAQ,GAAGF,QAAQ,GAAGI,OAAQ;IACrCkB,GAAG,EAAC,OAAO;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACX,CAAC;AAEJ,CAAC;AAED,eAAe7B,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module"}