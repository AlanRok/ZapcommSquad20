{"ast":null,"code":"import React from \"react\";\nimport { ZoomInIcon, ZoomOutIcon, DownloadIcon, CloseIcon, RotateIcon } from \"./icons\";\nfunction isSameOrigin(href) {\n  // @ts-ignore\n  return document.location.hostname !== new URL(href, document.location).hostname;\n}\n/**\n * Triggers image download from cross origin URLs\n * \n * `<a href=\"...\" download>foo</a> works only for same-origin URLs.\n * Further info: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-download\n */\n\nvar crossOriginDownload = function crossOriginDownload(href) {\n  return function (event) {\n    if (!isSameOrigin(href)) {\n      // native download will be triggered by `download` attribute\n      return;\n    } // else proceed to use `fetch` for cross origin image download\n\n    event.preventDefault();\n    fetch(href).then(function (res) {\n      if (!res.ok) {\n        console.error(\"Failed to download image, HTTP status \" + res.status + \" from \" + href);\n      }\n      return res.blob().then(function (blob) {\n        var tmpAnchor = document.createElement(\"a\");\n        tmpAnchor.setAttribute(\"download\", href.split(\"/\").pop());\n        tmpAnchor.href = URL.createObjectURL(blob);\n        tmpAnchor.click();\n      });\n    })[\"catch\"](function (err) {\n      console.error(err);\n      console.error(\"Failed to download image from \" + href);\n    });\n  };\n};\nvar Header = function Header(_ref) {\n  var image = _ref.image,\n    alt = _ref.alt,\n    zoomed = _ref.zoomed,\n    toggleZoom = _ref.toggleZoom,\n    toggleRotate = _ref.toggleRotate,\n    onClose = _ref.onClose,\n    enableDownload = _ref.enableDownload,\n    enableZoom = _ref.enableZoom,\n    enableRotate = _ref.enableRotate;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"__react_modal_image__header\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"__react_modal_image__icon_menu\"\n  }, enableDownload && /*#__PURE__*/React.createElement(\"a\", {\n    href: image,\n    download: true,\n    onClick: crossOriginDownload(image)\n  }, /*#__PURE__*/React.createElement(DownloadIcon, null)), enableZoom && /*#__PURE__*/React.createElement(\"a\", {\n    onClick: toggleZoom\n  }, zoomed ? /*#__PURE__*/React.createElement(ZoomOutIcon, null) : /*#__PURE__*/React.createElement(ZoomInIcon, null)), enableRotate && /*#__PURE__*/React.createElement(\"a\", {\n    onClick: toggleRotate\n  }, /*#__PURE__*/React.createElement(RotateIcon, null)), /*#__PURE__*/React.createElement(\"a\", {\n    onClick: onClose\n  }, /*#__PURE__*/React.createElement(CloseIcon, null))), alt && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"__react_modal_image__caption\"\n  }, alt));\n};\nexport default Header;","map":{"version":3,"names":["React","ZoomInIcon","ZoomOutIcon","DownloadIcon","CloseIcon","RotateIcon","isSameOrigin","href","document","location","hostname","URL","crossOriginDownload","event","preventDefault","fetch","then","res","ok","console","error","status","blob","tmpAnchor","createElement","setAttribute","split","pop","createObjectURL","click","err","Header","_ref","image","alt","zoomed","toggleZoom","toggleRotate","onClose","enableDownload","enableZoom","enableRotate","className","download","onClick"],"sources":["/app/node_modules/react-modal-image/es/Header.js"],"sourcesContent":["import React from \"react\";\nimport { ZoomInIcon, ZoomOutIcon, DownloadIcon, CloseIcon, RotateIcon } from \"./icons\";\n\nfunction isSameOrigin(href) {\n  // @ts-ignore\n  return document.location.hostname !== new URL(href, document.location).hostname;\n}\n/**\n * Triggers image download from cross origin URLs\n * \n * `<a href=\"...\" download>foo</a> works only for same-origin URLs.\n * Further info: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a#attr-download\n */\n\n\nvar crossOriginDownload = function crossOriginDownload(href) {\n  return function (event) {\n    if (!isSameOrigin(href)) {\n      // native download will be triggered by `download` attribute\n      return;\n    } // else proceed to use `fetch` for cross origin image download\n\n\n    event.preventDefault();\n    fetch(href).then(function (res) {\n      if (!res.ok) {\n        console.error(\"Failed to download image, HTTP status \" + res.status + \" from \" + href);\n      }\n\n      return res.blob().then(function (blob) {\n        var tmpAnchor = document.createElement(\"a\");\n        tmpAnchor.setAttribute(\"download\", href.split(\"/\").pop());\n        tmpAnchor.href = URL.createObjectURL(blob);\n        tmpAnchor.click();\n      });\n    })[\"catch\"](function (err) {\n      console.error(err);\n      console.error(\"Failed to download image from \" + href);\n    });\n  };\n};\n\nvar Header = function Header(_ref) {\n  var image = _ref.image,\n      alt = _ref.alt,\n      zoomed = _ref.zoomed,\n      toggleZoom = _ref.toggleZoom,\n      toggleRotate = _ref.toggleRotate,\n      onClose = _ref.onClose,\n      enableDownload = _ref.enableDownload,\n      enableZoom = _ref.enableZoom,\n      enableRotate = _ref.enableRotate;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"__react_modal_image__header\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"__react_modal_image__icon_menu\"\n  }, enableDownload && /*#__PURE__*/React.createElement(\"a\", {\n    href: image,\n    download: true,\n    onClick: crossOriginDownload(image)\n  }, /*#__PURE__*/React.createElement(DownloadIcon, null)), enableZoom && /*#__PURE__*/React.createElement(\"a\", {\n    onClick: toggleZoom\n  }, zoomed ? /*#__PURE__*/React.createElement(ZoomOutIcon, null) : /*#__PURE__*/React.createElement(ZoomInIcon, null)), enableRotate && /*#__PURE__*/React.createElement(\"a\", {\n    onClick: toggleRotate\n  }, /*#__PURE__*/React.createElement(RotateIcon, null)), /*#__PURE__*/React.createElement(\"a\", {\n    onClick: onClose\n  }, /*#__PURE__*/React.createElement(CloseIcon, null))), alt && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"__react_modal_image__caption\"\n  }, alt));\n};\n\nexport default Header;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}