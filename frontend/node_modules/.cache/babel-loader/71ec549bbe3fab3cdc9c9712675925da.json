{"ast":null,"code":"var _jsxFileName = \"/app/src/pages/Dashboard/Chart.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport { CartesianGrid, XAxis, YAxis, Label, ResponsiveContainer, LineChart, Line, Tooltip, Legend } from \"recharts\";\nimport { startOfHour, parseISO, format } from \"date-fns\";\nimport Title from \"./Title\";\nimport useTickets from \"../../hooks/useTickets\";\nconst Chart = ({\n  queueTicket\n}) => {\n  const theme = useTheme();\n  const {\n    tickets,\n    count\n  } = useTickets({\n    queueIds: queueTicket ? `[${queueTicket}]` : \"[]\"\n  });\n  const [chartData, setChartData] = useState([{\n    time: \"00:00\",\n    amount: 0\n  }, {\n    time: \"01:00\",\n    amount: 0\n  }, {\n    time: \"02:00\",\n    amount: 0\n  }, {\n    time: \"03:00\",\n    amount: 0\n  }, {\n    time: \"04:00\",\n    amount: 0\n  }, {\n    time: \"05:00\",\n    amount: 0\n  }, {\n    time: \"06:00\",\n    amount: 0\n  }, {\n    time: \"07:00\",\n    amount: 0\n  }, {\n    time: \"08:00\",\n    amount: 0\n  }, {\n    time: \"09:00\",\n    amount: 0\n  }, {\n    time: \"10:00\",\n    amount: 0\n  }, {\n    time: \"11:00\",\n    amount: 0\n  }, {\n    time: \"12:00\",\n    amount: 0\n  }, {\n    time: \"13:00\",\n    amount: 0\n  }, {\n    time: \"14:00\",\n    amount: 0\n  }, {\n    time: \"15:00\",\n    amount: 0\n  }, {\n    time: \"16:00\",\n    amount: 0\n  }, {\n    time: \"17:00\",\n    amount: 0\n  }, {\n    time: \"18:00\",\n    amount: 0\n  }, {\n    time: \"19:00\",\n    amount: 0\n  }, {\n    time: \"20:00\",\n    amount: 0\n  }, {\n    time: \"21:00\",\n    amount: 0\n  }, {\n    time: \"22:00\",\n    amount: 0\n  }, {\n    time: \"23:00\",\n    amount: 0\n  }]);\n  useEffect(() => {\n    setChartData(prevState => {\n      let aux = [...prevState];\n      aux.forEach(a => {\n        tickets.forEach(ticket => {\n          format(startOfHour(parseISO(ticket.createdAt)), \"HH:mm\") === a.time && a.amount++;\n        });\n      });\n      return aux;\n    });\n  }, [tickets]);\n  return /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }\n  }, `${\"Atendimentos Criados: \"}${count}`), /*#__PURE__*/React.createElement(ResponsiveContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(LineChart, {\n    data: chartData,\n    width: 730,\n    height: 250,\n    margin: {\n      top: 5,\n      right: 30,\n      left: 20,\n      bottom: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CartesianGrid, {\n    strokeDasharray: \"3 3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(XAxis, {\n    dataKey: \"time\",\n    stroke: theme.palette.text.secondary,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(YAxis, {\n    type: \"number\",\n    allowDecimals: false,\n    stroke: theme.palette.text.secondary,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(Tooltip, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Legend, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    angle: 270,\n    position: \"left\",\n    style: {\n      textAnchor: \"middle\",\n      fill: theme.palette.text.primary\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }, \"Tickets\")), /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"amount\",\n    stroke: \"#8884d8\",\n    strokeWidth: 2\n    // fill={theme.palette.primary.main}\n    ,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 6\n    }\n  }))));\n};\nexport default Chart;","map":{"version":3,"names":["React","useState","useEffect","useTheme","CartesianGrid","XAxis","YAxis","Label","ResponsiveContainer","LineChart","Line","Tooltip","Legend","startOfHour","parseISO","format","Title","useTickets","Chart","queueTicket","theme","tickets","count","queueIds","chartData","setChartData","time","amount","prevState","aux","forEach","a","ticket","createdAt","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","data","width","height","margin","top","right","left","bottom","strokeDasharray","dataKey","stroke","palette","text","secondary","type","allowDecimals","angle","position","style","textAnchor","fill","primary","strokeWidth"],"sources":["/app/src/pages/Dashboard/Chart.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport {\n\tCartesianGrid,\n\tXAxis,\n\tYAxis,\n\tLabel,\n\tResponsiveContainer,\n\tLineChart,\n\tLine,\n\tTooltip,\n\tLegend,\n} from \"recharts\";\nimport { startOfHour, parseISO, format } from \"date-fns\";\n\nimport Title from \"./Title\";\nimport useTickets from \"../../hooks/useTickets\";\n\nconst Chart = ({ queueTicket }) => {\n\tconst theme = useTheme();\n\n\tconst { tickets, count } = useTickets({\n\t\tqueueIds: queueTicket ? `[${queueTicket}]` : \"[]\",\n\t});\n\n\tconst [chartData, setChartData] = useState([\n\t\t{ time: \"00:00\", amount: 0 },\n\t\t{ time: \"01:00\", amount: 0 },\n\t\t{ time: \"02:00\", amount: 0 },\n\t\t{ time: \"03:00\", amount: 0 },\n\t\t{ time: \"04:00\", amount: 0 },\n\t\t{ time: \"05:00\", amount: 0 },\n\t\t{ time: \"06:00\", amount: 0 },\n\t\t{ time: \"07:00\", amount: 0 },\n\t\t{ time: \"08:00\", amount: 0 },\n\t\t{ time: \"09:00\", amount: 0 },\n\t\t{ time: \"10:00\", amount: 0 },\n\t\t{ time: \"11:00\", amount: 0 },\n\t\t{ time: \"12:00\", amount: 0 },\n\t\t{ time: \"13:00\", amount: 0 },\n\t\t{ time: \"14:00\", amount: 0 },\n\t\t{ time: \"15:00\", amount: 0 },\n\t\t{ time: \"16:00\", amount: 0 },\n\t\t{ time: \"17:00\", amount: 0 },\n\t\t{ time: \"18:00\", amount: 0 },\n\t\t{ time: \"19:00\", amount: 0 },\n\t\t{ time: \"20:00\", amount: 0 },\n\t\t{ time: \"21:00\", amount: 0 },\n\t\t{ time: \"22:00\", amount: 0 },\n\t\t{ time: \"23:00\", amount: 0 },\n\t]);\n\n\tuseEffect(() => {\n\t\tsetChartData((prevState) => {\n\t\t\tlet aux = [...prevState];\n\n\t\t\taux.forEach((a) => {\n\t\t\t\ttickets.forEach((ticket) => {\n\t\t\t\t\tformat(startOfHour(parseISO(ticket.createdAt)), \"HH:mm\") ===\n\t\t\t\t\t\ta.time && a.amount++;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn aux;\n\t\t});\n\t}, [tickets]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Title>{`${\"Atendimentos Criados: \"}${count}`}</Title>\n\t\t\t<ResponsiveContainer>\n\t\t\t\t<LineChart\n\t\t\t\t\tdata={chartData}\n\t\t\t\t\twidth={730}\n\t\t\t\t\theight={250}\n\t\t\t\t\tmargin={{\n\t\t\t\t\t\ttop: 5,\n\t\t\t\t\t\tright: 30,\n\t\t\t\t\t\tleft: 20,\n\t\t\t\t\t\tbottom: 5,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t<XAxis\n\t\t\t\t\t\tdataKey=\"time\"\n\t\t\t\t\t\tstroke={theme.palette.text.secondary}\n\t\t\t\t\t/>\n\t\t\t\t\t<YAxis\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tallowDecimals={false}\n\t\t\t\t\t\tstroke={theme.palette.text.secondary}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Tooltip />\n\t\t\t\t\t\t<Legend />\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\tangle={270}\n\t\t\t\t\t\t\tposition=\"left\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\ttextAnchor: \"middle\",\n\t\t\t\t\t\t\t\tfill: theme.palette.text.primary,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTickets\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</YAxis>\n\t\t\t\t\t<Line\n\t\t\t\t\t\ttype=\"monotone\"\n\t\t\t\t\t\tdataKey=\"amount\"\n\t\t\t\t\t\tstroke=\"#8884d8\"\n\t\t\t\t\t\tstrokeWidth={2}\n\t\t\t\t\t// fill={theme.palette.primary.main}\n\t\t\t\t\t/>\n\t\t\t\t</LineChart>\n\t\t\t</ResponsiveContainer>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default Chart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}