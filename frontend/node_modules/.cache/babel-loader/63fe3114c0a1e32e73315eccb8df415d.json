{"ast":null,"code":"import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport { Component } from 'react';\nvar Rifm = /*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Rifm, _React$Component);\n  function Rifm(props) {\n    var _this;\n    _this = _React$Component.call(this, props) || this;\n    _this._state = null;\n    _this._del = false;\n    _this._handleChange = function (evt) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (evt.target.type === 'number') {\n          console.error('Rifm does not support input type=number, use type=tel instead.');\n          return;\n        }\n      } // FUTURE: use evt.nativeEvent.inputType for del event, see comments at onkeydown\n\n      var stateValue = _this.state.value;\n      var value = evt.target.value;\n      var input = evt.target;\n      var op = value.length > stateValue.length;\n      var del = _this._del;\n      var noOp = stateValue === _this.props.format(value);\n      _this.setState({\n        value: value,\n        local: true\n      }, function () {\n        var selectionStart = input.selectionStart;\n        var refuse = _this.props.refuse || /[^\\d]+/g;\n        var before = value.substr(0, selectionStart).replace(refuse, '');\n        _this._state = {\n          input: input,\n          before: before,\n          op: op,\n          di: del && noOp,\n          del: del\n        };\n        if (_this.props.replace && _this.props.replace(stateValue) && op && !noOp) {\n          var start = -1;\n          for (var i = 0; i !== before.length; ++i) {\n            start = Math.max(start, value.toLowerCase().indexOf(before[i].toLowerCase(), start + 1));\n          }\n          var c = value.substr(start + 1).replace(refuse, '')[0];\n          start = value.indexOf(c, start + 1);\n          value = \"\" + value.substr(0, start) + value.substr(start + 1);\n        }\n        var fv = _this.props.format(value);\n        if (stateValue === fv) {\n          _this.setState({\n            value: value\n          });\n        } else {\n          _this.props.onChange(fv);\n        }\n      });\n    };\n    _this._hKD = function (evt) {\n      if (evt.code === 'Delete') {\n        _this._del = true;\n      }\n    };\n    _this._hKU = function (evt) {\n      if (evt.code === 'Delete') {\n        _this._del = false;\n      }\n    };\n    _this.state = {\n      value: props.value,\n      local: true\n    };\n    return _this;\n  }\n  Rifm.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    return {\n      value: state.local ? state.value : props.value,\n      local: false\n    };\n  };\n  var _proto = Rifm.prototype;\n  _proto.render = function render() {\n    var _handleChange = this._handleChange,\n      value = this.state.value,\n      children = this.props.children;\n    return children({\n      value: value,\n      onChange: _handleChange\n    });\n  } // delete when  https://developer.mozilla.org/en-US/docs/Web/API/InputEvent/inputType will be supported by all major browsers\n  ;\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    document.removeEventListener('keydown', this._hKD);\n    document.removeEventListener('keyup', this._hKU);\n  } // delete when  https://developer.mozilla.org/en-US/docs/Web/API/InputEvent/inputType will be supported by all major browsers\n  ;\n  _proto.componentDidMount = function componentDidMount() {\n    document.addEventListener('keydown', this._hKD);\n    document.addEventListener('keyup', this._hKU);\n  };\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    var _state = this._state;\n    if (_state) {\n      var value = this.state.value;\n      var start = -1;\n      for (var i = 0; i !== _state.before.length; ++i) {\n        start = Math.max(start, value.toLowerCase().indexOf(_state.before[i].toLowerCase(), start + 1));\n      } // format usually looks better without this\n\n      if (this.props.replace && (_state.op || _state.del && !_state.di)) {\n        while (value[start + 1] && (this.props.refuse || /[^\\d]+/).test(value[start + 1])) {\n          start += 1;\n        }\n      }\n      _state.input.selectionStart = _state.input.selectionEnd = start + 1 + (_state.di ? 1 : 0);\n    }\n    this._state = null;\n  };\n  return Rifm;\n}(Component);\nexport { Rifm };","map":{"version":3,"names":["_inheritsLoose","Component","Rifm","_React$Component","props","_this","call","_state","_del","_handleChange","evt","process","env","NODE_ENV","target","type","console","error","stateValue","state","value","input","op","length","del","noOp","format","setState","local","selectionStart","refuse","before","substr","replace","di","start","i","Math","max","toLowerCase","indexOf","c","fv","onChange","_hKD","code","_hKU","getDerivedStateFromProps","_proto","prototype","render","children","componentWillUnmount","document","removeEventListener","componentDidMount","addEventListener","componentDidUpdate","test","selectionEnd"],"sources":["/app/node_modules/rifm/dist/rifm.esm.js"],"sourcesContent":["import _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport { Component } from 'react';\n\nvar Rifm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Rifm, _React$Component);\n\n  function Rifm(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this._state = null;\n    _this._del = false;\n\n    _this._handleChange = function (evt) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (evt.target.type === 'number') {\n          console.error('Rifm does not support input type=number, use type=tel instead.');\n          return;\n        }\n      } // FUTURE: use evt.nativeEvent.inputType for del event, see comments at onkeydown\n\n\n      var stateValue = _this.state.value;\n      var value = evt.target.value;\n      var input = evt.target;\n      var op = value.length > stateValue.length;\n      var del = _this._del;\n\n      var noOp = stateValue === _this.props.format(value);\n\n      _this.setState({\n        value: value,\n        local: true\n      }, function () {\n        var selectionStart = input.selectionStart;\n        var refuse = _this.props.refuse || /[^\\d]+/g;\n        var before = value.substr(0, selectionStart).replace(refuse, '');\n        _this._state = {\n          input: input,\n          before: before,\n          op: op,\n          di: del && noOp,\n          del: del\n        };\n\n        if (_this.props.replace && _this.props.replace(stateValue) && op && !noOp) {\n          var start = -1;\n\n          for (var i = 0; i !== before.length; ++i) {\n            start = Math.max(start, value.toLowerCase().indexOf(before[i].toLowerCase(), start + 1));\n          }\n\n          var c = value.substr(start + 1).replace(refuse, '')[0];\n          start = value.indexOf(c, start + 1);\n          value = \"\" + value.substr(0, start) + value.substr(start + 1);\n        }\n\n        var fv = _this.props.format(value);\n\n        if (stateValue === fv) {\n          _this.setState({\n            value: value\n          });\n        } else {\n          _this.props.onChange(fv);\n        }\n      });\n    };\n\n    _this._hKD = function (evt) {\n      if (evt.code === 'Delete') {\n        _this._del = true;\n      }\n    };\n\n    _this._hKU = function (evt) {\n      if (evt.code === 'Delete') {\n        _this._del = false;\n      }\n    };\n\n    _this.state = {\n      value: props.value,\n      local: true\n    };\n    return _this;\n  }\n\n  Rifm.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    return {\n      value: state.local ? state.value : props.value,\n      local: false\n    };\n  };\n\n  var _proto = Rifm.prototype;\n\n  _proto.render = function render() {\n    var _handleChange = this._handleChange,\n        value = this.state.value,\n        children = this.props.children;\n    return children({\n      value: value,\n      onChange: _handleChange\n    });\n  } // delete when  https://developer.mozilla.org/en-US/docs/Web/API/InputEvent/inputType will be supported by all major browsers\n  ;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    document.removeEventListener('keydown', this._hKD);\n    document.removeEventListener('keyup', this._hKU);\n  } // delete when  https://developer.mozilla.org/en-US/docs/Web/API/InputEvent/inputType will be supported by all major browsers\n  ;\n\n  _proto.componentDidMount = function componentDidMount() {\n    document.addEventListener('keydown', this._hKD);\n    document.addEventListener('keyup', this._hKU);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    var _state = this._state;\n\n    if (_state) {\n      var value = this.state.value;\n      var start = -1;\n\n      for (var i = 0; i !== _state.before.length; ++i) {\n        start = Math.max(start, value.toLowerCase().indexOf(_state.before[i].toLowerCase(), start + 1));\n      } // format usually looks better without this\n\n\n      if (this.props.replace && (_state.op || _state.del && !_state.di)) {\n        while (value[start + 1] && (this.props.refuse || /[^\\d]+/).test(value[start + 1])) {\n          start += 1;\n        }\n      }\n\n      _state.input.selectionStart = _state.input.selectionEnd = start + 1 + (_state.di ? 1 : 0);\n    }\n\n    this._state = null;\n  };\n\n  return Rifm;\n}(Component);\n\nexport { Rifm };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}