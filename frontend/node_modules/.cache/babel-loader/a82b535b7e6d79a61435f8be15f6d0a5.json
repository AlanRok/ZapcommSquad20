{"ast":null,"code":"var _jsxFileName = \"/app/src/pages/CampaignReport/index.js\";\nimport React, { useEffect, useRef, useState, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport { Grid, LinearProgress, Typography } from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { has, get, isNull } from \"lodash\";\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport ListAltIcon from \"@material-ui/icons/ListAlt\";\nimport { useDate } from \"../../hooks/useDate\";\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\nconst useStyles = makeStyles(theme => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles\n  },\n  textRight: {\n    textAlign: \"right\"\n  },\n  tabPanelsContainer: {\n    padding: theme.spacing(2)\n  }\n}));\nconst CampaignReport = () => {\n  const classes = useStyles();\n  const {\n    campaignId\n  } = useParams();\n  const [campaign, setCampaign] = useState({});\n  const [validContacts, setValidContacts] = useState(0);\n  const [delivered, setDelivered] = useState(0);\n  const [confirmationRequested, setConfirmationRequested] = useState(0);\n  const [confirmed, setConfirmed] = useState(0);\n  const [percent, setPercent] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const mounted = useRef(true);\n  const {\n    datetimeToClient\n  } = useDate();\n  const socketManager = useContext(SocketContext);\n  useEffect(() => {\n    if (mounted.current) {\n      findCampaign();\n    }\n    return () => {\n      mounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    if (mounted.current && has(campaign, \"shipping\")) {\n      if (has(campaign, \"contactList\")) {\n        const contactList = get(campaign, \"contactList\");\n        const valids = contactList.contacts.filter(c => c.isWhatsappValid);\n        setValidContacts(valids.length);\n      }\n      if (has(campaign, \"shipping\")) {\n        const contacts = get(campaign, \"shipping\");\n        const delivered = contacts.filter(c => !isNull(c.deliveredAt));\n        const confirmationRequested = contacts.filter(c => !isNull(c.confirmationRequestedAt));\n        const confirmed = contacts.filter(c => !isNull(c.deliveredAt) && !isNull(c.confirmationRequestedAt));\n        setDelivered(delivered.length);\n        setConfirmationRequested(confirmationRequested.length);\n        setConfirmed(confirmed.length);\n        setDelivered(delivered.length);\n      }\n    }\n  }, [campaign]);\n  useEffect(() => {\n    setPercent(delivered / validContacts * 100);\n  }, [delivered, validContacts]);\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n    socket.on(`company-${companyId}-campaign`, data => {\n      if (data.record.id === +campaignId) {\n        setCampaign(data.record);\n        if (data.record.status === \"FINALIZADA\") {\n          setTimeout(() => {\n            findCampaign();\n          }, 5000);\n        }\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [campaignId, socketManager]);\n  const findCampaign = async () => {\n    setLoading(true);\n    const {\n      data\n    } = await api.get(`/campaigns/${campaignId}`);\n    setCampaign(data);\n    setLoading(false);\n  };\n  const formatStatus = val => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n  return /*#__PURE__*/React.createElement(MainContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MainHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    style: {\n      width: \"99.6%\"\n    },\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }\n  }, \"Relat\\xF3rio da \", campaign.name || \"Campanha\")))), /*#__PURE__*/React.createElement(Paper, {\n    className: classes.mainPaper,\n    variant: \"outlined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h6\",\n    component: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }\n  }, \"Status: \", formatStatus(campaign.status), \" \", delivered, \" de \", validContacts), /*#__PURE__*/React.createElement(Grid, {\n    spacing: 2,\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(LinearProgress, {\n    variant: \"determinate\",\n    style: {\n      height: 15,\n      borderRadius: 3,\n      margin: \"20px 0\"\n    },\n    value: percent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    md: 4,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardCounter, {\n    icon: /*#__PURE__*/React.createElement(GroupIcon, {\n      fontSize: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 21\n      }\n    }),\n    title: \"Contatos V\\xE1lidos\",\n    value: validContacts,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  })), campaign.confirmation && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    md: 4,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CardCounter, {\n    icon: /*#__PURE__*/React.createElement(DoneIcon, {\n      fontSize: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 25\n      }\n    }),\n    title: \"Confirma\\xE7\\xF5es Solicitadas\",\n    value: confirmationRequested,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    md: 4,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(CardCounter, {\n    icon: /*#__PURE__*/React.createElement(DoneAllIcon, {\n      fontSize: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 25\n      }\n    }),\n    title: \"Confirma\\xE7\\xF5es\",\n    value: confirmed,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    md: 4,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardCounter, {\n    icon: /*#__PURE__*/React.createElement(CheckCircleIcon, {\n      fontSize: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 21\n      }\n    }),\n    title: \"Entregues\",\n    value: delivered,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }\n  })), campaign.whatsappId && /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    md: 4,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardCounter, {\n    icon: /*#__PURE__*/React.createElement(WhatsAppIcon, {\n      fontSize: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 23\n      }\n    }),\n    title: \"Conex\\xE3o\",\n    value: campaign.whatsapp.name,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 15\n    }\n  })), campaign.contactListId && /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    md: 4,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardCounter, {\n    icon: /*#__PURE__*/React.createElement(ListAltIcon, {\n      fontSize: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 23\n      }\n    }),\n    title: \"Lista de Contatos\",\n    value: campaign.contactList.name,\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    md: 4,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardCounter, {\n    icon: /*#__PURE__*/React.createElement(ScheduleIcon, {\n      fontSize: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 21\n      }\n    }),\n    title: \"Agendamento\",\n    value: datetimeToClient(campaign.scheduledAt),\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    xs: 12,\n    md: 4,\n    item: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CardCounter, {\n    icon: /*#__PURE__*/React.createElement(EventAvailableIcon, {\n      fontSize: \"inherit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 21\n      }\n    }),\n    title: \"Conclus\\xE3o\",\n    value: datetimeToClient(campaign.completedAt),\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 13\n    }\n  })))));\n};\nexport default CampaignReport;","map":{"version":3,"names":["React","useEffect","useRef","useState","useContext","useParams","makeStyles","Paper","MainContainer","MainHeader","Title","Grid","LinearProgress","Typography","api","has","get","isNull","CardCounter","GroupIcon","ScheduleIcon","EventAvailableIcon","DoneIcon","DoneAllIcon","CheckCircleIcon","WhatsAppIcon","ListAltIcon","useDate","SocketContext","useStyles","theme","mainPaper","flex","padding","spacing","overflowY","scrollbarStyles","textRight","textAlign","tabPanelsContainer","CampaignReport","classes","campaignId","campaign","setCampaign","validContacts","setValidContacts","delivered","setDelivered","confirmationRequested","setConfirmationRequested","confirmed","setConfirmed","percent","setPercent","loading","setLoading","mounted","datetimeToClient","socketManager","current","findCampaign","contactList","valids","contacts","filter","c","isWhatsappValid","length","deliveredAt","confirmationRequestedAt","companyId","localStorage","getItem","socket","getSocket","on","data","record","id","status","setTimeout","disconnect","formatStatus","val","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","width","container","xs","item","name","className","variant","component","height","borderRadius","margin","value","md","icon","fontSize","title","confirmation","Fragment","whatsappId","whatsapp","contactListId","scheduledAt","completedAt"],"sources":["/app/src/pages/CampaignReport/index.js"],"sourcesContent":["import React, { useEffect, useRef, useState, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport { Grid, LinearProgress, Typography } from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { has, get, isNull } from \"lodash\";\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport ListAltIcon from \"@material-ui/icons/ListAlt\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  tabPanelsContainer: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst CampaignReport = () => {\n  const classes = useStyles();\n\n  const { campaignId } = useParams();\n\n  const [campaign, setCampaign] = useState({});\n  const [validContacts, setValidContacts] = useState(0);\n  const [delivered, setDelivered] = useState(0);\n  const [confirmationRequested, setConfirmationRequested] = useState(0);\n  const [confirmed, setConfirmed] = useState(0);\n  const [percent, setPercent] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const mounted = useRef(true);\n\n  const { datetimeToClient } = useDate();\n\n  const socketManager = useContext(SocketContext);\n\n  useEffect(() => {\n    if (mounted.current) {\n      findCampaign();\n    }\n\n    return () => {\n      mounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (mounted.current && has(campaign, \"shipping\")) {\n      if (has(campaign, \"contactList\")) {\n        const contactList = get(campaign, \"contactList\");\n        const valids = contactList.contacts.filter((c) => c.isWhatsappValid);\n        setValidContacts(valids.length);\n      }\n\n      if (has(campaign, \"shipping\")) {\n        const contacts = get(campaign, \"shipping\");\n        const delivered = contacts.filter((c) => !isNull(c.deliveredAt));\n        const confirmationRequested = contacts.filter(\n          (c) => !isNull(c.confirmationRequestedAt)\n        );\n        const confirmed = contacts.filter(\n          (c) => !isNull(c.deliveredAt) && !isNull(c.confirmationRequestedAt)\n        );\n        setDelivered(delivered.length);\n        setConfirmationRequested(confirmationRequested.length);\n        setConfirmed(confirmed.length);\n        setDelivered(delivered.length);\n      }\n    }\n  }, [campaign]);\n\n  useEffect(() => {\n    setPercent((delivered / validContacts) * 100);\n  }, [delivered, validContacts]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketManager.getSocket(companyId);\n\n    socket.on(`company-${companyId}-campaign`, (data) => {\n     \n      if (data.record.id === +campaignId) {\n        setCampaign(data.record);\n\n        if (data.record.status === \"FINALIZADA\") {\n          setTimeout(() => {\n            findCampaign();\n          }, 5000);\n        }\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [campaignId, socketManager]);\n\n  const findCampaign = async () => {\n    setLoading(true);\n    const { data } = await api.get(`/campaigns/${campaignId}`);\n    setCampaign(data);\n    setLoading(false);\n  };\n\n  const formatStatus = (val) => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n\n  return (\n    <MainContainer>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} item>\n            <Title>Relatório da {campaign.name || \"Campanha\"}</Title>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Typography variant=\"h6\" component=\"h2\">\n          Status: {formatStatus(campaign.status)} {delivered} de {validContacts}\n        </Typography>\n        <Grid spacing={2} container>\n          <Grid xs={12} item>\n            <LinearProgress\n              variant=\"determinate\"\n              style={{ height: 15, borderRadius: 3, margin: \"20px 0\" }}\n              value={percent}\n            />\n          </Grid>\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<GroupIcon fontSize=\"inherit\" />}\n              title=\"Contatos Válidos\"\n              value={validContacts}\n              loading={loading}\n            />\n          </Grid>\n          {campaign.confirmation && (\n            <>\n              <Grid xs={12} md={4} item>\n                <CardCounter\n                  icon={<DoneIcon fontSize=\"inherit\" />}\n                  title=\"Confirmações Solicitadas\"\n                  value={confirmationRequested}\n                  loading={loading}\n                />\n              </Grid>\n              <Grid xs={12} md={4} item>\n                <CardCounter\n                  icon={<DoneAllIcon fontSize=\"inherit\" />}\n                  title=\"Confirmações\"\n                  value={confirmed}\n                  loading={loading}\n                />\n              </Grid>\n            </>\n          )}\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<CheckCircleIcon fontSize=\"inherit\" />}\n              title=\"Entregues\"\n              value={delivered}\n              loading={loading}\n            />\n          </Grid>\n          {campaign.whatsappId && (\n            <Grid xs={12} md={4} item>\n              <CardCounter\n                icon={<WhatsAppIcon fontSize=\"inherit\" />}\n                title=\"Conexão\"\n                value={campaign.whatsapp.name}\n                loading={loading}\n              />\n            </Grid>\n          )}\n          {campaign.contactListId && (\n            <Grid xs={12} md={4} item>\n              <CardCounter\n                icon={<ListAltIcon fontSize=\"inherit\" />}\n                title=\"Lista de Contatos\"\n                value={campaign.contactList.name}\n                loading={loading}\n              />\n            </Grid>\n          )}\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<ScheduleIcon fontSize=\"inherit\" />}\n              title=\"Agendamento\"\n              value={datetimeToClient(campaign.scheduledAt)}\n              loading={loading}\n            />\n          </Grid>\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<EventAvailableIcon fontSize=\"inherit\" />}\n              title=\"Conclusão\"\n              value={datetimeToClient(campaign.completedAt)}\n              loading={loading}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default CampaignReport;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}