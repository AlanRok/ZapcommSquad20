{"version":3,"file":"index.js","sources":["../../src/helpers/cssColors.js","../../src/helpers/colorTool.js","../../src/helpers/commonTypes.js","../../src/helpers/useTranslate.js","../../src/components/ColorButton.jsx","../../src/helpers/useEventCallback.js","../../src/components/ColorBox/HSVGradient.jsx","../../src/helpers/uncontrolled.js","../../src/components/ColorInput.jsx","../../src/components/ColorPalette.jsx","../../src/components/ColorBox/HueSlider.jsx","../../src/components/ColorBox/AlphaSlider.jsx","../../src/components/ColorBox/index.jsx","../../src/components/ColorPicker.jsx"],"sourcesContent":["/**\n * Copyright (c) Mik BRY\n * mik@mikbry.com\n *\n * This source code is licensed under the license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n//  https://drafts.csswg.org/css-color/\nconst CSSCOLORS = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgrey: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  grey: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgrey: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32,\n};\n\nexport default CSSCOLORS;\n","/* eslint-disable no-bitwise */\n/**\n * Copyright (c) Mik BRY\n * mik@mikbry.com\n *\n * This source code is licensed under the license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport cssColors from './cssColors';\n\nconst getCssHexa = (n, alpha) => {\n  let hex = `00000000${(n & 0xffffff).toString(16).toUpperCase()}`.substr(-6);\n  if (!Number.isNaN(alpha) && alpha !== undefined) {\n    let a = alpha.toString(16).toUpperCase();\n    if (a.length === 1) a = `0${a}`;\n    hex += a;\n  }\n  return hex;\n};\n\nconst getRgb = c => [(c & 0xff0000) >> 16, (c & 0x00ff00) >> 8, c & 0x0000ff];\n\nconst rgbToInt = _rgb => {\n  const rgb = _rgb.map(_c => {\n    let c = _c || 0;\n    if (c < 0) c = 0;\n    if (c > 255) c = 255;\n    return c;\n  });\n  return (rgb[3] << 24) | (rgb[0] << 16) | (rgb[1] << 8) | rgb[2];\n};\n\nconst fromRgb = _rgb => {\n  if (!_rgb || _rgb.length < 3 || _rgb.length > 4) {\n    return { error: 'not valid size' };\n  }\n  const rgb = _rgb.map((v, i) =>\n    // eslint-disable-next-line no-nested-ternary\n    typeof v === 'string'\n      ? v[v.length - 1] !== '%'\n        ? Math.round(Number(v) * (i === 3 ? 255 : 1))\n        : Math.round((Number(v.substring(0, v.length - 1)) / 100) * 255)\n      : Math.round(i === 3 ? v * 255 : v),\n  );\n  const value = rgbToInt(rgb);\n  return { format: 'rgb', value, rgb, alpha: rgb[3] };\n};\n\nconst fromCssHexa = hex => {\n  let alpha;\n  let value = Number(`0x${hex.substring(1)}`);\n  if (!Number.isInteger(value) || Number.isNaN(value)) {\n    return { error: 'Not an hex value' };\n  }\n  const rgb = [];\n  if (hex.length === 7 || hex.length === 9) {\n    const padding = hex.length === 9 ? 8 : 0;\n    // #RRGGBB format\n    rgb[0] = (value >> (16 + padding)) & 0xff;\n    rgb[1] = (value >> (8 + padding)) & 0xff;\n    rgb[2] = (value >> padding) & 0xff;\n    if (hex.length === 9) {\n      // #RRGGBBAA format\n      alpha = value & 0xff;\n      rgb[3] = alpha;\n      value = rgbToInt(rgb);\n    }\n  } else if (hex.length === 4 || hex.length === 5) {\n    const padding = hex.length === 5 ? 4 : 0;\n    // #RGB format\n    rgb[0] = (value >> (8 + padding)) & 0xf;\n    rgb[1] = (value >> (4 + padding)) & 0xf;\n    rgb[2] = (value >> padding) & 0xf;\n    rgb[0] |= rgb[0] << 4;\n    rgb[1] |= rgb[1] << 4;\n    rgb[2] |= rgb[2] << 4;\n    if (hex.length === 5) {\n      // #RGBA format\n      alpha = value & 0xf;\n      alpha |= alpha << 4;\n      rgb[3] = alpha;\n    }\n    value = rgbToInt(rgb);\n  } else {\n    return { error: 'Wrong format' };\n  }\n  return { format: 'hex', value, rgb, alpha };\n};\n\nconst getDeg = _h => {\n  let h = _h;\n  if (typeof h === 'string') {\n    // Handle css unit for hsl\n    if (h.indexOf('deg') > -1) h = h.substr(0, h.length - 3);\n    else if (h.indexOf('rad') > -1) h = Math.round(h.substr(0, h.length - 3) * (180 / Math.PI));\n    else if (h.indexOf('turn') > -1) h = Math.round(h.substr(0, h.length - 4) * 360);\n    h = parseFloat(h, 10);\n  }\n  if (Number.isNaN(h)) h = 0;\n  if (h >= 360) h %= 360;\n  if (h < 0) h = 0;\n  return h;\n};\n\nconst getValue = _v => {\n  let v = _v;\n  if (typeof v === 'string') v = parseFloat(v.indexOf('%') > -1 ? v.substring(0, v.length - 1) : v, 10);\n  if (Number.isNaN(v)) v = 0;\n  else if (v > 100) v = 100;\n  else if (v < 0) v = 0;\n  return v;\n};\n\nconst fromHsl = _hsl => {\n  if (!_hsl || _hsl.length < 3 || _hsl.length > 4) {\n    return { error: 'Not a valid size' };\n  }\n  let rgb;\n  const hsl = _hsl;\n  const h = getDeg(hsl[0]);\n  let s = getValue(hsl[1]);\n  let l = getValue(hsl[2]);\n  hsl[0] = h;\n  hsl[1] = s;\n  hsl[2] = l;\n\n  s /= 100;\n  l /= 100;\n  const c = s * (1 - Math.abs(2 * l - 1));\n  const x = c * (1 - Math.abs(((h / 60) % 2) - 1));\n  let m = l - c / 2;\n  if (s === 0) {\n    rgb = [l, l, l];\n    m = 0;\n  } else if (h >= 0 && h < 60) {\n    rgb = [c, x, 0];\n  } else if (h >= 60 && h < 120) {\n    rgb = [x, c, 0];\n  } else if (h >= 120 && h < 180) {\n    rgb = [0, c, x];\n  } else if (h >= 180 && h < 240) {\n    rgb = [0, x, c];\n  } else if (h >= 240 && h < 300) {\n    rgb = [x, 0, c];\n  } /* if (h >= 300 && h < 360) */ else {\n    rgb = [c, 0, x];\n  }\n  rgb[0] = Math.round((rgb[0] + m) * 255);\n  rgb[1] = Math.round((rgb[1] + m) * 255);\n  rgb[2] = Math.round((rgb[2] + m) * 255);\n  let alpha = hsl[3];\n  if (alpha !== undefined) {\n    if (typeof alpha === 'string') {\n      alpha =\n        alpha.indexOf('%') > -1 ? parseFloat(alpha.substring(0, alpha.length - 1), 10) / 100 : parseFloat(alpha, 10);\n    }\n    alpha = Math.floor(alpha * 255);\n    rgb[3] = alpha;\n  }\n  const value = rgbToInt(rgb);\n  return { format: 'hsl', value, rgb, hsl, alpha };\n};\n\nconst fromHsv = hsv => {\n  if (!hsv || hsv.length < 3 || hsv.length > 4) {\n    return { error: 'Not a valid size' };\n  }\n  let rgb;\n  let h = getDeg(hsv[0]);\n  let s = getValue(hsv[1]);\n  let v = getValue(hsv[2]);\n\n  v *= 255 / 100;\n  if (s === 0) {\n    v = Math.round(v);\n    rgb = [v, v, v];\n  } else {\n    h /= 360;\n    s /= 100;\n    let i = Math.floor(h * 6);\n    const f = h * 6 - i;\n    const p = Math.round(v * (1 - s));\n    const q = Math.round(v * (1 - s * f));\n    const t = Math.round(v * (1 - s * (1 - f)));\n    v = Math.round(v);\n\n    i %= 6;\n    if (i === 0) rgb = [v, t, p];\n    else if (i === 1) rgb = [q, v, p];\n    else if (i === 2) rgb = [p, v, t];\n    else if (i === 3) rgb = [p, q, v];\n    else if (i === 4) rgb = [t, p, v];\n    /* if (i === 5) */ else rgb = [v, p, q];\n  }\n  let alpha = hsv[3];\n  if (alpha !== undefined) {\n    if (typeof alpha === 'string') {\n      alpha =\n        alpha.indexOf('%') > -1 ? parseFloat(alpha.substring(0, alpha.length - 1), 10) / 100 : parseFloat(alpha, 10);\n    }\n    alpha = Math.floor(alpha * 255);\n    rgb[3] = alpha;\n  }\n  const value = rgbToInt(rgb);\n  return { format: 'hsl', value, rgb, hsv, alpha };\n};\n\nconst getMinMax = rgb => {\n  const r = rgb[0] / 255;\n  const g = rgb[1] / 255;\n  const b = rgb[2] / 255;\n  const cmin = Math.min(r, g, b);\n  const cmax = Math.max(r, g, b);\n  const delta = cmax - cmin;\n  return { cmax, cmin, delta, r, g, b };\n};\n\nconst getHsl = rgb => {\n  const { cmin, cmax, delta, r, g, b } = getMinMax(rgb);\n  let h = 0;\n  let s = 0;\n  let l = (cmin + cmax) / 2;\n  if (delta !== 0) {\n    s = delta / (1 - Math.abs(2 * l - 1));\n    s = Math.round(+(s * 100).toFixed(1));\n\n    if (cmax === r) h = ((g - b) / delta) % 6;\n    else if (cmax === g) h = (b - r) / delta + 2;\n    else h = (r - g) / delta + 4;\n    h = Math.round(h * 60);\n    if (h < 0) h += 360;\n  }\n  l = Math.round(l + l * 100);\n  const hsl = [h, s, l];\n  if (rgb.length === 4) {\n    hsl[3] = rgb[3] / 255;\n  }\n  return hsl;\n};\n\nconst getHsv = rgb => {\n  const { cmax, delta, r, g, b } = getMinMax(rgb);\n  if (delta === 0) return [0, 0, Math.round(cmax * 100)];\n\n  let v = cmax;\n  let s = delta / cmax;\n  const rc = (cmax - r) / delta;\n  const gc = (cmax - g) / delta;\n  const bc = (cmax - b) / delta;\n\n  let h;\n  if (r === cmax) h = bc - gc;\n  else if (g === cmax) h = 2 + rc - bc;\n  else h = 4.0 + gc - rc;\n  h = (h / 6.0) % 1.0;\n  if (h < 0) h += 1.0;\n\n  h = Math.round(h * 360);\n  s = Math.round(s * 100);\n  v = Math.round(v * 100);\n  return [h, s, v];\n};\n\nconst tupleToArray = value => {\n  const tuple = value.substring(value.indexOf('(') + 1, value.indexOf(')'));\n  if (tuple.indexOf(',') > -1) {\n    return tuple.split(',');\n  }\n  if (tuple.indexOf(' ') > -1) {\n    return tuple.split(' ').filter(e => e.length > 0 && e !== '/');\n  }\n  return undefined;\n};\n\nconst colorsFormats = ['plain', 'hex', 'rgb', 'hsl', 'hsv'];\n\nconst colorsFunc = [\n  value => ({ format: 'plain', value: cssColors[value[0]] }),\n  value => fromCssHexa(value[0]),\n  value => fromRgb(value),\n  value => fromHsl(value),\n  value => fromHsv(value),\n];\n\nconst colorsCssFunc = [\n  value => ({ format: 'plain', value: cssColors[value] }),\n  value => fromCssHexa(value),\n  value => fromRgb(tupleToArray(value)),\n  value => fromHsl(tupleToArray(value)),\n];\n\nconst colorsCssConditions = [\n  value => cssColors[value] !== undefined,\n  value => value.startsWith('#'),\n  value => value.startsWith('rgb(') || value.startsWith('rgba('),\n  value => value.startsWith('hsl(') || value.startsWith('hsla('),\n];\n\nconst parse = (raw, _format, disableAlpha = false, enablePlainColor = true) => {\n  const color = { raw };\n  let value;\n  let alpha;\n  let rgb;\n  let hsl;\n  let hsv;\n  let error;\n  let format = _format || 'unknown';\n  if (raw === 'transparent') {\n    color.name = raw;\n    format = 'plain';\n    alpha = 0;\n  } else if (typeof raw === 'string') {\n    const r = raw.trim().toLocaleLowerCase();\n    const index = colorsCssConditions.findIndex(func => func(r));\n    if (index > -1) {\n      ({ value, format, rgb, hsl, alpha, error } = colorsCssFunc[index](r));\n      if (format === 'plain') color.name = raw;\n      // Check if raw is css valid\n      if (format) color.css = { backgroundColor: raw };\n    }\n  } else if (Number.isInteger(raw)) {\n    value = raw;\n    format = 'number';\n  } else if (Array.isArray(raw) && format) {\n    const index = colorsFormats.findIndex(f => f === format);\n    if (index > -1) {\n      ({ value, format, rgb, hsl, hsv, alpha, error } = colorsFunc[index](raw));\n    } else {\n      error = 'unkown format';\n    }\n  } else if (raw && 'r' in raw && 'g' in raw && 'b' in raw) {\n    rgb = [raw.r, raw.g, raw.b];\n    if (raw.a) rgb.push(raw.a);\n    ({ value, format, rgb, alpha, error } = fromRgb(rgb));\n  } else if (raw && 'h' in raw && 's' in raw && 'l' in raw) {\n    hsl = [raw.h, raw.s, raw.l];\n    if (raw.a) hsl.push(raw.a);\n    ({ value, format, rgb, hsl, alpha, error } = fromHsl(hsl));\n  } else if (raw && 'h' in raw && 's' in raw && 'v' in raw) {\n    hsv = [raw.h, raw.s, raw.v];\n    if (raw.a) hsv.push(raw.a);\n    ({ value, format, rgb, hsv, alpha, error } = fromHsv(hsv));\n  }\n  if (value === undefined) {\n    value = 0;\n    alpha = alpha === 0 ? alpha : undefined;\n    color.css = {\n      backgroundImage: `\n        linear-gradient(45deg, #ccc 25%, transparent 25%), \n        linear-gradient(135deg, #ccc 25%, transparent 25%),\n        linear-gradient(45deg, transparent 75%, #ccc 75%),\n        linear-gradient(135deg, transparent 75%, #ccc 75%)`,\n      backgroundSize: '8px 8px',\n      backgroundPosition: '0 0, 4px 0, 4px -4px, 0px 4px',\n      backgroundColor: 'white',\n    };\n    if (raw !== 'transparent') {\n      format = 'unknown';\n      color.name = 'none';\n    }\n  }\n  if (error) color.error = error;\n  color.value = value;\n  color.alpha = Number.isNaN(alpha) || alpha === undefined ? 1 : alpha / 255;\n  color.format = format;\n  let alpha255;\n  if (!disableAlpha && color.alpha !== 1) {\n    alpha255 = Math.floor(color.alpha * 255);\n  } else if (color.alpha === 1 && color.value === -16777216) {\n    // special case to distinguish between black 0x000000FF and transparent 0x000\n    alpha255 = 255;\n  }\n  const hex = getCssHexa(value, alpha255);\n  color.hex = hex;\n  rgb = rgb || getRgb(value);\n  color.rgb = rgb;\n  color.hsv = hsv || getHsv(rgb);\n  color.hsl = hsl || getHsl(rgb);\n  if (!color.css) {\n    color.css = { backgroundColor: `#${hex}` };\n  }\n  if (!color.name) {\n    // find color name\n    color.name = (enablePlainColor && Object.keys(cssColors).find(n => cssColors[n] === value)) || `color-${hex}`;\n  }\n  return color;\n};\n\nconst getCssColor = (color, format, disableAlpha) => {\n  let value;\n  if (format === 'hex') {\n    value = `#${getCssHexa(\n      color.value,\n      disableAlpha || color.alpha === 1 ? undefined : Math.floor(color.alpha * 255),\n    )}`;\n  }\n  return value;\n};\n\nlet cssColorsTranslated;\nlet language;\n\nconst validateColor = (_color, disableAlpha, translate, translateLanguage, disablePlainColor = false) => {\n  let color = _color;\n  let isTranslated = false;\n  if (!(_color && _color.format && _color.name)) {\n    color = _color;\n    if (translate && typeof color === 'string') {\n      if (!cssColorsTranslated || translateLanguage !== language) {\n        language = translateLanguage;\n        cssColorsTranslated = {};\n        Object.keys(cssColors).forEach(name => {\n          cssColorsTranslated[translate(name)] = name;\n        });\n      }\n      color = cssColorsTranslated[color] || color;\n      isTranslated = color !== _color;\n    }\n    color = parse(color, null, disableAlpha, !disablePlainColor);\n    if (color.name && translate) {\n      color.translated = translate(color.name);\n      if (isTranslated && color.translated) {\n        color.name = color.translated;\n      }\n      if (color.error) color.error = translate(color.error);\n    }\n  } else if (color.error && translate) {\n    color.error = translate(color.error);\n  }\n  return color;\n};\n\nconst getComponents = (_color, format, disableAlpha, translate = value => value) => {\n  const color = validateColor(_color, disableAlpha, translate);\n  const components = {};\n  if (format === 'rgb') {\n    components.r = { value: color.rgb[0], format: 'integer', min: 0, max: 255, name: translate('R') };\n    components.g = { value: color.rgb[1], format: 'integer', min: 0, max: 255, name: translate('G') };\n    components.b = { value: color.rgb[2], format: 'integer', min: 0, max: 255, name: translate('B') };\n  } else if (format === 'hsv') {\n    components.h = { value: color.hsv[0], format: 'integer', min: 0, max: 360, name: translate('H'), unit: '°' };\n    components.s = { value: color.hsv[1], format: 'integer', min: 0, max: 100, name: translate('S'), unit: '%' };\n    components.v = { value: color.hsv[2], format: 'integer', min: 0, max: 100, name: translate('V'), unit: '%' };\n  } else if (format === 'hsl') {\n    components.h = { value: color.hsl[0], format: 'integer', min: 0, max: 360, name: translate('H'), unit: '°' };\n    components.s = { value: color.hsl[1], format: 'integer', min: 0, max: 100, name: translate('S'), unit: '%' };\n    components.l = { value: color.hsl[2], format: 'integer', min: 0, max: 100, name: translate('L'), unit: '%' };\n  } else if (format === 'hex') {\n    let { hex } = color;\n    if (color.raw && typeof color.raw === 'string' && color.raw.startsWith('#')) {\n      hex = color.raw.substring(1);\n    }\n    components.hex = { value: hex, format: 'hex', name: translate('HEX'), unit: '#' };\n  } else {\n    components.value = translate(color.value);\n    components.format = 'unknown';\n  }\n  return components;\n};\n\nexport { parse, getComponents, validateColor, getCssColor };\n","/**\n * Copyright (c) Mik BRY\n * mik@mikbry.com\n *\n * This source code is licensed under the license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport { arrayOf, objectOf, shape, array, number, string, oneOfType } from 'prop-types';\n\nconst color = oneOfType([\n  shape({\n    css: shape({\n      // TODO\n    }),\n    value: number,\n    hex: string,\n    raw: oneOfType([string, array, number, shape]),\n    name: string,\n    alpha: number,\n    rgb: arrayOf(number),\n    hsv: arrayOf(number),\n    hsl: arrayOf(number),\n  }),\n  string,\n  number,\n]);\n\nconst palette = objectOf(string);\n\nconst inputFormats = arrayOf(string);\n\nexport { color, palette, inputFormats };\n","/* eslint-disable no-bitwise */\n/**\n * Copyright (c) Mik BRY\n * mik@mikbry.com\n *\n * This source code is licensed under the license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nconst globalTranslate = { use: () => ({ i18n: { language: 'us' }, t: v => v }) };\n\nconst useTranslate = _translation => {\n  if (_translation) globalTranslate.use = _translation;\n  return globalTranslate.use();\n};\n\nexport default useTranslate;\n","/**\n * Copyright (c) Mik BRY\n * mik@mikbry.com\n *\n * This source code is licensed under the license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as ColorTool from '../helpers/colorTool';\nimport * as CommonTypes from '../helpers/commonTypes';\nimport useTranslate from '../helpers/useTranslate';\n\nconst useStyles = makeStyles({\n  root: {\n    backgroundImage: props =>\n      props.colorError || props.alpha < 1\n        ? `\n    linear-gradient(45deg, #ccc 25%, transparent 25%), \n    linear-gradient(135deg, #ccc 25%, transparent 25%),\n    linear-gradient(45deg, transparent 75%, #ccc 75%),\n    linear-gradient(135deg, transparent 75%, #ccc 75%)`\n        : 'none',\n    backgroundSize: '8px 8px',\n    backgroundPosition: '0 0, 4px 0, 4px -4px, 0px 4px',\n    backgroundColor: props => props.backgroundColor || '#fff',\n    boxShadow: '0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08)',\n    borderColor: props => props.borderColor || '#767676',\n    borderStyle: 'solid',\n    borderWidth: props => props.borderWidth || 0,\n    borderRadius: 4,\n    padding: 0,\n    width: props => props.width,\n    minWidth: props => props.minWidth,\n    height: props => props.height,\n    '& div': {\n      content: '\" \"',\n      background: props =>\n        props.colorError\n          ? `repeating-linear-gradient(\n      135deg,\n      transparent,\n      transparent ${props.width / 2 + 2}px,\n      #f44336 ${props.width / 2 + 2}px,\n      #f44336 ${props.width / 2 + 4}px\n    )`\n          : 'none',\n      backgroundColor: props => (props.colorError ? 'transparent' : props.backgroundColor || '#fff'),\n      width: props => props.width,\n      minWidth: props => props.minWidth,\n      height: props => props.height,\n      border: props =>\n        props.colorError ? '2px solid #f44336' : `${props.borderWidth || 0}px solid ${props.borderColor || '#767676'}`,\n      borderRadius: 4,\n      padding: 0,\n    },\n    '&:hover div': {\n      backgroundColor: props => props.hoverColor,\n    },\n    '&:active': {\n      boxShadow: 'none',\n    },\n\n    '&:focus': {\n      boxShadow: '0 0 0 0.2rem rgba(0, 123, 255, 0.5)',\n    },\n  },\n\n  tooltip: {\n    width: 'min-content',\n  },\n});\n\n/**\n- Use a ColorButton to select a predefined color by clicking on this button.\n- If the color is not valid or transparent a crossed background is displayed.\n */\nconst ColorButton = ({\n  color: c,\n  size,\n  borderWidth,\n  borderColor,\n  forwardRef,\n  tooltip,\n  disableAlpha,\n  className,\n  ...props\n}) => {\n  const { t, i18n } = useTranslate();\n  const color = ColorTool.validateColor(c, disableAlpha, t, i18n.language);\n  const translated = t(tooltip);\n  const cssColor = color.css;\n  let l = color.hsl[2] - 10;\n  if (l < 30) l = color.hsl[2] + 50;\n  const a = color.alpha;\n  const hoverColor = `hsl(${color.hsl[0]}, ${color.hsl[1]}%, ${l}%, ${a})`;\n  const classes = useStyles({\n    width: size,\n    minWidth: size,\n    height: size,\n    hoverColor,\n    borderColor,\n    borderWidth,\n    alpha: a,\n    colorError: !!color.error,\n    ...cssColor,\n  });\n  const component = (\n    <Button\n      data-testid=\"colorbutton\"\n      className={`${classes.root} ${className ?? ''}`}\n      ref={forwardRef}\n      variant=\"contained\"\n      aria-label={color.name}\n      {...props}\n    >\n      <div />\n    </Button>\n  );\n  if (tooltip) {\n    return (\n      <Tooltip title={translated}>\n        <div className={classes.tooltip}>{component}</div>\n      </Tooltip>\n    );\n  }\n  return component;\n};\n\nColorButton.propTypes = {\n  /**\n    The color to display, could be a css valid string, an integer, or a Color object see  ColorType\n   */\n  color: CommonTypes.color.isRequired,\n  /**\n    The size of the button in pixel\n   */\n  size: PropTypes.number,\n  /**\n    Don't use alpha\n   */\n  disableAlpha: PropTypes.bool,\n  /**\n    The width of the button's border, not displayed if borderWidth=0\n   */\n  borderWidth: PropTypes.number,\n  /**\n    The css color of the button's border, not displayed if borderWidth=0\n   */\n  borderColor: PropTypes.string,\n  /**\n    A tooltip could be added to the button to display the color name or value\n   */\n  tooltip: PropTypes.string,\n  /**\n    Internal usage\n   */\n  forwardRef: PropTypes.shape({ current: PropTypes.elementType }),\n};\n\nColorButton.defaultProps = {\n  size: 24,\n  borderWidth: 0,\n  borderColor: undefined,\n  forwardRef: undefined,\n  tooltip: undefined,\n  disableAlpha: false,\n};\n\nexport default ColorButton;\n","/* istanbul ignore file */\nimport * as React from 'react';\n\nconst useEnhancedEffect = typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n\n/**\n * https://github.com/facebook/react/issues/14099#issuecomment-440013892\n *\n * @param {function} fn\n */\nexport default function useEventCallback(fn) {\n  const ref = React.useRef(fn);\n  useEnhancedEffect(() => {\n    ref.current = fn;\n  });\n  return React.useCallback((...args) => (0, ref.current)(...args), []);\n}\n","/**\n * Copyright (c) Mik BRY\n * mik@mikbry.com\n *\n * This source code is licensed under the license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as CommonTypes from '../../helpers/commonTypes';\nimport useEventCallback from '../../helpers/useEventCallback';\n\nconst getRGB = _h => {\n  let rgb;\n  const h = _h / 360;\n  let v = 255;\n  let i = Math.floor(h * 6);\n  const f = h * 6 - i;\n  const p = 0;\n  const q = Math.round(v * (1 - f));\n  const t = Math.round(v * f);\n  v = Math.round(v);\n  i %= 6;\n  if (i === 0) rgb = [v, t, p];\n  else if (i === 1) rgb = [q, v, p];\n  else if (i === 2) rgb = [p, v, t];\n  else if (i === 3) rgb = [p, q, v];\n  else if (i === 4) rgb = [t, p, v];\n  else rgb = [v, p, q]; // if (i === 5)\n  return rgb;\n};\n\nconst useStyles = makeStyles({\n  root: {\n    position: 'absolute',\n    width: 'inherit',\n    height: 'inherit',\n    background: props => `${props.cssRgb} none repeat scroll 0% 0%`,\n    margin: 0,\n  },\n  gradientPosition: {\n    position: 'absolute',\n    width: '100%',\n    height: '100%',\n  },\n  hsvGradientS: {\n    background:\n      'rgba(0, 0, 0, 0) linear-gradient(to right, rgb(255, 255, 255), rgba(255, 255, 255, 0)) repeat scroll 0% 0%',\n  },\n  hsvGradientV: {\n    background: 'rgba(0, 0, 0, 0) linear-gradient(to top, rgb(0, 0, 0), rgba(0, 0, 0, 0)) repeat scroll 0% 0%',\n  },\n  hslGradientS: {\n    background:\n      'rgba(0, 0, 0, 0) linear-gradient(to bottom, rgb(128, 128, 128), rgba(255, 255, 255, 0)) repeat scroll 0% 0%',\n  },\n  hslGradientL: {\n    background:\n      'rgba(0, 0, 0, 0) linear-gradient(to left, rgb(0, 0, 0), rgba(128, 128, 128, 0), rgb(255, 255, 255)) repeat scroll 0% 0%',\n  },\n  hsvGradientCursor: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    borderColor: '#f0f0f0',\n    borderWidth: 1,\n    borderStyle: 'solid',\n    boxShadow: 'rgba(0, 0, 0, 0.37) 0px 1px 4px 0px',\n    transition: 'box-shadow 150ms cubic-bezier(0.4, 0, 0.2, 1) 0ms',\n    borderRadius: 4,\n    cursor: props => !props.pressed && 'pointer',\n    zIndex: 100,\n    transform: 'translate(-4px, -4px)',\n    '&:hover': {\n      boxShadow: '0px 0px 0px 8px rgba(63, 81, 181, 0.16)',\n    },\n    '&:focus': {\n      outline: 'none !important',\n      boxShadow: '0px 0px 0px 8px rgba(63, 81, 181, 0.16)',\n    },\n    '&:focus > div': {\n      //  TODO\n    },\n  },\n  hsvGradientCursorC: {\n    width: 8,\n    height: 8,\n    borderRadius: 4,\n    boxShadow: 'white 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08)',\n  },\n});\n\nconst HSVGradient = ({ className, color, onChange, isHsl, ...props }) => {\n  const latestColor = React.useRef(color);\n  const [focus, onFocus] = React.useState(false);\n  const pressed = React.useRef(false);\n  React.useEffect(() => {\n    latestColor.current = color;\n  });\n  const box = React.useRef();\n  const cursor = React.useRef();\n  let cursorPos = { x: 0, y: 0 };\n  const rgb = getRGB(color.hsv[0]);\n  const cssRgb = `rgb(${rgb[0]},${rgb[1]},${rgb[2]})`;\n  const classes = useStyles({ ...props, cssRgb });\n\n  const setPosition = (pos, f) => {\n    cursorPos = pos;\n    cursor.current.style.top = `${pos.y}px`;\n    cursor.current.style.left = `${pos.x}px`;\n    if (f) {\n      cursor.current.focus();\n    }\n  };\n\n  const initPosition = ref => {\n    if (ref) {\n      const { hsv, hsl } = color;\n      cursorPos = {\n        x: Math.round(((isHsl ? 100 - hsl[2] : hsv[1]) / 100) * (ref.clientWidth - 1)),\n        y: Math.round(((isHsl ? hsl[1] : 100 - hsv[2]) / 100) * (ref.clientHeight - 1)),\n      };\n      setPosition(cursorPos);\n    }\n  };\n\n  initPosition(box.current);\n  if (box.current) {\n    box.current.style.background = `${cssRgb} none repeat scroll 0% 0%`;\n  }\n\n  const convertMousePosition = ({ x, y }, ref) => {\n    const bounds = ref.getBoundingClientRect();\n    const pos = { x: x - bounds.left, y: y - bounds.top };\n    if (pos.x < 0) {\n      pos.x = 0;\n    }\n    if (pos.y < 0) {\n      pos.y = 0;\n    }\n    if (pos.x >= ref.clientWidth) {\n      pos.x = ref.clientWidth - 1;\n    }\n    if (pos.y >= ref.clientHeight) {\n      pos.y = ref.clientHeight - 1;\n    }\n    setPosition(pos, true);\n    const c = latestColor.current;\n    if (isHsl) {\n      const s = (pos.y / (ref.clientHeight - 1)) * 100;\n      const l = (1 - pos.x / (ref.clientWidth - 1)) * 100;\n      onChange([c.hsl[0], s, l]);\n    } else {\n      const s = (pos.x / (ref.clientWidth - 1)) * 100;\n      const v = (1 - pos.y / (ref.clientHeight - 1)) * 100;\n      onChange([c.hsv[0], s, v]);\n    }\n  };\n\n  React.useEffect(() => {\n    const ref = box.current;\n    initPosition(ref);\n    const handleDown = event => {\n      onFocus(true);\n      pressed.current = true;\n      event.preventDefault();\n    };\n    const handleUp = event => {\n      const xy = { x: event.pageX - window.scrollX, y: event.pageY - window.scrollY };\n      convertMousePosition(xy, ref);\n      pressed.current = false;\n      event.preventDefault();\n    };\n    const handleMove = event => {\n      if (pressed.current && event.buttons) {\n        const xy = { x: event.pageX - window.scrollX, y: event.pageY - window.scrollY };\n        convertMousePosition(xy, ref);\n        event.preventDefault();\n      }\n    };\n    const handleTouch = event => {\n      const xy = { x: event.touches[0].pageX - window.scrollX, y: event.touches[0].pageY - window.scrollY };\n      convertMousePosition(xy, ref);\n      event.preventDefault();\n    };\n\n    ref.addEventListener('mousedown', handleDown);\n    ref.addEventListener('mouseup', handleUp);\n    ref.addEventListener('mousemove', handleMove);\n    ref.addEventListener('touchdown', handleDown);\n    ref.addEventListener('touchup', handleUp);\n    ref.addEventListener('touchmove', handleTouch);\n    return () => {\n      ref.removeEventListener('mousedown', handleDown);\n      ref.removeEventListener('mouseup', handleUp);\n      ref.removeEventListener('mousemove', handleMove);\n      ref.removeEventListener('touchdown', handleDown);\n      ref.removeEventListener('touchup', handleUp);\n      ref.removeEventListener('touchmove', handleTouch);\n    };\n  }, []);\n  const handleKey = useEventCallback(event => {\n    if (!focus) return;\n    let { x, y } = cursorPos;\n    switch (event.key) {\n      case 'ArrowRight':\n        x += 1;\n        break;\n      case 'ArrowLeft':\n        x -= 1;\n        break;\n      case 'ArrowDown':\n        y += 1;\n        break;\n      case 'ArrowUp':\n        y -= 1;\n        break;\n      case 'Tab':\n        onFocus(false);\n        return;\n      default:\n        return;\n    }\n    event.preventDefault();\n    const bounds = box.current.getBoundingClientRect();\n    convertMousePosition({ x: x + bounds.left, y: y + bounds.top }, box.current);\n  });\n  const handleFocus = useEventCallback(event => {\n    onFocus(true);\n    event.preventDefault();\n  });\n  const handleBlur = useEventCallback(event => {\n    onFocus(false);\n    event.preventDefault();\n  });\n  return (\n    <div className={className}>\n      <div className={classes.root} {...props} ref={box} data-testid=\"hsvgradient-color\">\n        <div\n          className={`muicc-hsvgradient-s ${isHsl ? classes.hslGradientS : classes.hsvGradientS} ${\n            classes.gradientPosition\n          }`}\n        >\n          <div\n            className={`muicc-hsvgradient-v ${isHsl ? classes.hslGradientL : classes.hsvGradientV} ${\n              classes.gradientPosition\n            }`}\n          >\n            <div\n              ref={cursor}\n              tabIndex=\"0\"\n              role=\"slider\"\n              aria-valuemax={100}\n              aria-valuemin={0}\n              aria-valuenow={color.hsv[1]}\n              pressed={`${pressed.current}`}\n              data-testid=\"hsvgradient-cursor\"\n              className={`muicc-hsvgradient-cursor ${classes.hsvGradientCursor}`}\n              onKeyDown={handleKey}\n              onFocus={handleFocus}\n              onBlur={handleBlur}\n            >\n              <div className={`muicc-hsvgradient-cursor-c ${classes.hsvGradientCursorC}`} />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nHSVGradient.propTypes = {\n  color: CommonTypes.color.isRequired,\n  className: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  isHsl: PropTypes.bool,\n};\n\nHSVGradient.defaultProps = {\n  isHsl: false,\n};\n\nexport default HSVGradient;\n","/**\n * Copyright (c) Mik BRY\n * mik@mikbry.com\n *\n * This source code is licensed under the license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// eslint-disable-next-line react/prop-types\nconst Uncontrolled = ({ Element, defaultValue, ...props }) => {\n  const [value, onChange] = React.useState(defaultValue);\n  return React.createElement(Element, { ...props, value, onChange });\n};\n\nexport default Element => {\n  const Composite = ({ defaultValue, value, onChange, ...props }) =>\n    onChange || value !== 'none'\n      ? React.createElement(Element, { value: value || defaultValue, onChange: onChange || (() => {}), ...props })\n      : React.createElement(Uncontrolled, { Element, defaultValue, ...props });\n  Composite.propTypes = { ...Element.propTypes, defaultValue: Element.propTypes.value, onChange: PropTypes.func };\n  Composite.defaultProps = { ...Element.defaultProps, defaultValue: undefined, onChange: undefined };\n  return Composite;\n};\n","/* eslint-disable react/jsx-props-no-spreading */\n/**\n * Copyright (c) Mik BRY\n * mik@mikbry.com\n *\n * This source code is licensed under the license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as ColorTool from '../helpers/colorTool';\nimport uncontrolled from '../helpers/uncontrolled';\nimport * as CommonTypes from '../helpers/commonTypes';\nimport useTranslate from '../helpers/useTranslate';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  colorinputRaw: {\n    paddingRight: 4,\n  },\n  formControl: {\n    width: 100,\n  },\n});\n\nconst ColorInput = ({\n  value,\n  format,\n  onChange,\n  disableAlpha,\n  enableErrorDisplay,\n  forwardRef,\n  disablePlainColor,\n  ...props\n}) => {\n  const classes = useStyles();\n  const { t, i18n } = useTranslate();\n  const color = ColorTool.validateColor(value, disableAlpha, t, i18n.language, disablePlainColor);\n  let field;\n  let components;\n\n  const handleFieldChange = event => {\n    if (format === 'plain') {\n      onChange(event.target.value);\n    } else if (format === 'hex') {\n      onChange(`#${event.target.value}`);\n    } else {\n      /* if (format === 'rgb' || format === 'hsl' || format === 'hsv') { */\n      const cn = event.target.id;\n      const v = Number(event.target.value);\n      const values = {};\n      Object.keys(components).forEach(e => {\n        let cv = components[e].value;\n        if (e === cn) {\n          cv = v;\n          if (cv < components[e].min) cv = components[e].min;\n          if (cv > components[e].max) cv = components[e].max;\n        }\n        values[e] = cv;\n      });\n      onChange(values);\n    }\n  };\n\n  const buildInput = (cn, name, v, unit, isStart) => (\n    <>\n      <InputLabel htmlFor={cn} className=\"muicc-colorinput-label\" data-testid=\"colorinput-label\">\n        {name}\n      </InputLabel>\n      <Input\n        id={cn}\n        name={cn}\n        className=\"muicc-colorinput-input\"\n        label={name}\n        value={v}\n        placeholder={name}\n        inputProps={{ 'aria-label': `color-${name}`, 'data-testid': 'colorinput-input' }}\n        onChange={handleFieldChange}\n        startAdornment={isStart && unit && <InputAdornment position=\"start\">{unit}</InputAdornment>}\n        {...props}\n      />\n    </>\n  );\n\n  if (format === 'plain') {\n    field = buildInput('color-plain', 'Color', color.raw);\n  } else {\n    components = ColorTool.getComponents(color, format, disableAlpha, t);\n    const names = Object.keys(components);\n    field = (\n      <div ref={forwardRef} className={classes.root}>\n        {names.map(cn => (\n          <FormControl key={cn} className={`muicc-colorinput-raw ${classes.colorinputRaw}`} error={!!color.error}>\n            {buildInput(cn, components[cn].name, components[cn].value, components[cn].unit, names.length === 1)}\n          </FormControl>\n        ))}\n      </div>\n    );\n  }\n  return (\n    <FormControl className={classes.formControl} error={!!color.error} data-testid=\"colorinput\">\n      {field}\n      {enableErrorDisplay && color.error && <FormHelperText id=\"component-error-text\">{color.error}</FormHelperText>}\n    </FormControl>\n  );\n};\n\nColorInput.propTypes = {\n  value: CommonTypes.color,\n  format: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  /**\n    Don't use alpha\n   */\n  disableAlpha: PropTypes.bool,\n  /**\n    Internal usage\n   */\n  enableErrorDisplay: PropTypes.bool,\n  forwardRef: PropTypes.shape({ current: PropTypes.elementType }),\n  disablePlainColor: PropTypes.bool,\n};\n\nColorInput.defaultProps = {\n  value: 'none',\n  format: 'plain',\n  forwardRef: undefined,\n  disableAlpha: false,\n  enableErrorDisplay: true,\n  disablePlainColor: false,\n};\n\nexport default uncontrolled(ColorInput);\n","/* eslint-disable react/jsx-props-no-spreading */\n/**\n * Copyright (c) Mik BRY\n * mik@mikbry.com\n *\n * This source code is licensed under the license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ColorButton from './ColorButton';\nimport * as CommonTypes from '../helpers/commonTypes';\nimport useTranslate from '../helpers/useTranslate';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    padding: '8px 0 0 8px',\n  },\n  paletteButton: {\n    margin: '0 8px 8px 0',\n    padding: 0,\n  },\n});\n\nconst ColorPalette = ({ size, borderWidth, palette, onSelect, disableAlpha }) => {\n  const classes = useStyles();\n  const { t } = useTranslate();\n  const handleSelectColor = name => {\n    const translatedName = t(name);\n    if (onSelect) onSelect(translatedName, palette[name]);\n  };\n\n  return (\n    <div className={classes.root}>\n      {Object.keys(palette).map(name => (\n        <ColorButton\n          size={size}\n          key={`${name}`}\n          color={palette[name]}\n          className={`muicc-palette-button ${classes.paletteButton}`}\n          borderWidth={borderWidth}\n          tooltip={name}\n          disableAlpha={disableAlpha}\n          onClick={() => handleSelectColor(name)}\n        />\n      ))}\n    </div>\n  );\n};\n\nColorPalette.propTypes = {\n  borderWidth: PropTypes.number,\n  size: PropTypes.number,\n  palette: CommonTypes.palette.isRequired,\n  forwardRef: PropTypes.shape({ current: PropTypes.elementType }),\n  onSelect: PropTypes.func,\n  /**\n    Don't use alpha\n   */\n  disableAlpha: PropTypes.bool,\n};\n\nColorPalette.defaultProps = {\n  borderWidth: 0,\n  size: 24,\n  forwardRef: undefined,\n  onSelect: undefined,\n  disableAlpha: false,\n};\n\nexport default ColorPalette;\n","/**\n * Copyright (c) Mik BRY\n * mik@mikbry.com\n *\n * This source code is licensed under the license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    width: '100%',\n    height: 16,\n    padding: 0,\n  },\n\n  rail: {\n    height: 16,\n    opacity: 1,\n    background:\n      'rgba(0, 0, 0, 0) linear-gradient(to right, rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100% ) repeat scroll 0% 0%',\n    borderRadius: 0,\n  },\n\n  track: {\n    height: 16,\n    opacity: 0,\n    borderRadius: 4,\n    backgroundColor: 'transparent',\n  },\n\n  thumb: {\n    width: 16,\n    height: 16,\n    marginTop: 0,\n    marginLeft: -8,\n    backgroundColor: '#f0f0f0',\n    boxShadow: 'rgba(0, 0, 0, 0.37) 0px 1px 4px 0px',\n\n    '&:focus': {\n      boxShadow: '0px 0px 0px 8px rgba(63, 81, 181, 0.16)',\n    },\n  },\n}));\n\nfunction HueSlider(props) {\n  const classes = useStyles();\n\n  return (\n    <Slider\n      {...props}\n      classes={{\n        root: classes.root,\n        rail: classes.rail,\n        track: classes.track,\n        thumb: classes.thumb,\n      }}\n    />\n  );\n}\n\nexport default HueSlider;\n","/**\n * Copyright (c) Mik BRY\n * mik@mikbry.com\n *\n * This source code is licensed under the license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as CommonTypes from '../../helpers/commonTypes';\n\nconst useStyles = makeStyles({\n  root: {\n    color: '#666',\n    width: '100%',\n    height: 16,\n    padding: 0,\n    background:\n      'linear-gradient(45deg, #ccc 25%, transparent 25%), linear-gradient(135deg, #ccc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #ccc 75%), linear-gradient(135deg, transparent 75%, #ccc 75%)',\n    backgroundSize: '8px 8px',\n    backgroundColor: 'white',\n    backgroundPosition: '0 0, 4px 0, 4px -4px, 0px 4px',\n  },\n\n  rail: {\n    height: 16,\n    opacity: 1,\n    background: props =>\n      `rgba(0, 0, 0, 0) linear-gradient(to right, ${props.color}00 0%, ${props.color} 100%) repeat scroll 0% 0%`,\n    borderRadius: 0,\n  },\n\n  track: {\n    height: 16,\n    opacity: 0,\n    borderRadius: 4,\n  },\n\n  thumb: {\n    width: 16,\n    height: 16,\n    marginTop: 0,\n    marginLeft: -8,\n    backgroundColor: '#f0f0f0',\n    boxShadow: 'rgba(0, 0, 0, 0.37) 0px 1px 4px 0px',\n\n    '&:focus': {\n      boxShadow: '0px 0px 0px 8px rgba(63, 81, 181, 0.16)',\n    },\n  },\n});\n\nfunction AlphaSlider({ color, ...props }) {\n  const classes = useStyles({ color });\n\n  return (\n    <Slider\n      {...props}\n      classes={{\n        root: classes.root,\n        rail: classes.rail,\n        track: classes.track,\n        thumb: classes.thumb,\n      }}\n    />\n  );\n}\nAlphaSlider.propTypes = {\n  color: CommonTypes.color.isRequired,\n};\n\nexport default AlphaSlider;\n","/**\n * Copyright (c) Mik BRY\n * mik@mikbry.com\n *\n * This source code is licensed under the license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Divider from '@material-ui/core/Divider';\nimport HSVGradient from './HSVGradient';\nimport ColorInput from '../ColorInput';\nimport ColorPalette from '../ColorPalette';\nimport HueSlider from './HueSlider';\nimport AlphaSlider from './AlphaSlider';\nimport { getCssColor, parse as colorParse, validateColor } from '../../helpers/colorTool';\nimport uncontrolled from '../../helpers/uncontrolled';\nimport * as CommonTypes from '../../helpers/commonTypes';\nimport useTranslate from '../../helpers/useTranslate';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    position: 'relative',\n    width: 'min-content',\n    height: 'min-content',\n    padding: '0px',\n  },\n  container: {\n    justifyContent: 'space-around',\n    overflow: 'hidden',\n    width: props => props.boxWidth,\n    padding: 0,\n  },\n  colorboxHsvGradient: {\n    width: props => `calc(${props.boxWidth}px - 16px)`,\n    height: 'calc(128px - 16px)',\n    margin: 8,\n  },\n  colorboxSliders: {\n    width: props => props.boxWidth,\n    padding: '8px 8px 4px 8px',\n  },\n  colorboxInputs: {\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    padding: '8px 4px 8px 8px',\n    justifyContent: 'space-between',\n  },\n  colorboxInput: {},\n  colorboxColorBg: {\n    width: 48,\n    height: 48,\n    background:\n      'linear-gradient(45deg, #ccc 25%, transparent 25%), linear-gradient(135deg, #ccc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #ccc 75%), linear-gradient(135deg, transparent 75%, #ccc 75%)',\n    backgroundSize: '8px 8px',\n    backgroundPosition: '0 0, 4px 0, 4px -4px, 0px 4px',\n    backgroundColor: 'white',\n    borderRadius: 4,\n  },\n  colorboxColor: {\n    width: 48,\n    height: 48,\n    background: props =>\n      props.colorError\n        ? `repeating-linear-gradient(\n      135deg,\n      transparent,\n      transparent 29px,\n      #f44336 29px,\n      #f44336 32px\n    )`\n        : 'none',\n    backgroundColor: props => (props.colorError ? 'transparent' : props.backgroundColor),\n    borderRadius: 4,\n    border: props => (props.colorError ? '2px solid #f44336' : 'none'),\n  },\n  colorboxControls: {\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    padding: 8,\n    '&> button': {\n      marginLeft: 'auto',\n    },\n  },\n  colorboxError: {\n    color: '#f44336',\n    lineHeight: '36.5px',\n  },\n}));\n\nconst ColorBox = ({\n  value,\n  palette,\n  inputFormats,\n  deferred,\n  onChange: _onChange,\n  disableAlpha,\n  hslGradient,\n  ...props\n}) => {\n  const { t, i18n } = useTranslate();\n  let color = validateColor(value, disableAlpha, t, i18n.language);\n  let onChange = _onChange;\n  let onDeferredChange;\n  if (deferred) {\n    [color, onChange] = React.useState(color);\n    onDeferredChange = _onChange;\n  }\n\n  const { hsv, hsl } = color;\n  let { alpha } = color;\n  alpha = alpha === undefined ? 100 : Math.floor(alpha * 100);\n  const cssColor = getCssColor(color, 'hex', true);\n  const { backgroundColor } = color.css;\n  const boxWidth = 320;\n  const classes = useStyles({ boxWidth, backgroundColor, colorError: !!color.error });\n\n  const handleSet = () => {\n    onDeferredChange(color);\n  };\n\n  const handleHueChange = (event, newValue) => {\n    const c = colorParse([newValue, color.hsv[1], color.hsv[2]], 'hsv');\n    onChange(c);\n  };\n\n  const handleAlphaChange = (event, newValue) => {\n    const alphaVal = newValue / 100;\n    const c = colorParse([color.rgb[0], color.rgb[1], color.rgb[2], alphaVal], 'rgb');\n    onChange(c);\n  };\n\n  const handleSVChange = hsvVal => {\n    const c = colorParse(hsvVal, hslGradient ? 'hsl' : 'hsv');\n    onChange(c);\n  };\n\n  const handlePaletteSelection = (name, colour) => {\n    const c = colorParse(colour);\n    // To handle back the translated name\n    c.name = name;\n    onChange(c);\n  };\n\n  const handleInputChange = newValue => {\n    const c = colorParse(newValue);\n    onChange(c);\n  };\n\n  const displayInput = () =>\n    inputFormats.length > 0 && (\n      <div className={`muicc-colorbox-inputs  ${classes.colorboxInputs}`}>\n        <div className={`muicc-colorbox-colorBg ${classes.colorboxColorBg}`}>\n          <div className={`muicc-colorbox-color ${classes.colorboxColor}`} />\n        </div>\n        {inputFormats.map(input => (\n          <ColorInput\n            key={input}\n            value={color}\n            format={input}\n            disableAlpha\n            enableErrorDisplay={false}\n            className={`muicc-colorbox-input ${classes.colorboxInput}`}\n            onChange={handleInputChange}\n          />\n        ))}\n      </div>\n    );\n\n  return (\n    <Box p={2} className={classes.root} {...props}>\n      <Box className={classes.container}>\n        <HSVGradient\n          className={`muicc-colorbox-hsvgradient ${classes.colorboxHsvGradient}`}\n          color={color}\n          onChange={handleSVChange}\n          isHsl={hslGradient}\n        />\n        <div className={`muicc-colorbox-sliders ${classes.colorboxSliders}`}>\n          <HueSlider\n            data-testid=\"hueslider\"\n            aria-label=\"color slider\"\n            value={hslGradient ? hsl[0] : hsv[0]}\n            min={0}\n            max={360}\n            onChange={handleHueChange}\n          />\n          {!disableAlpha && (\n            <AlphaSlider\n              data-testid=\"alphaslider\"\n              color={cssColor}\n              valueLabelDisplay=\"auto\"\n              aria-label=\"alpha slider\"\n              value={alpha}\n              min={0}\n              max={100}\n              onChange={handleAlphaChange}\n            />\n          )}\n        </div>\n        {displayInput(inputFormats)}\n        {palette && (\n          <>\n            <Divider />\n            <ColorPalette\n              size={26.65}\n              palette={palette}\n              onSelect={handlePaletteSelection}\n              disableAlpha={disableAlpha}\n            />\n          </>\n        )}\n        <div className={`muicc-colorbox-controls ${classes.colorboxControls}`}>\n          {color.error && (\n            <span className={`muicc-colorbox-error ${classes.colorboxError}`} data-testid=\"colorbox-error\">\n              {t(color.error)}\n            </span>\n          )}\n          {deferred && <Button onClick={handleSet}>{t('Set')}</Button>}\n        </div>\n      </Box>\n    </Box>\n  );\n};\n\nColorBox.propTypes = {\n  value: CommonTypes.color,\n  deferred: PropTypes.bool,\n  palette: CommonTypes.palette,\n  inputFormats: CommonTypes.inputFormats,\n  onChange: PropTypes.func.isRequired,\n  /**\n    Don't use alpha\n   */\n  disableAlpha: PropTypes.bool,\n  hslGradient: PropTypes.bool,\n};\n\nColorBox.defaultProps = {\n  value: undefined,\n  deferred: false,\n  palette: undefined,\n  inputFormats: ['hex', 'rgb'],\n  disableAlpha: false,\n  hslGradient: false,\n};\n\nexport default uncontrolled(ColorBox);\n","/* eslint-disable jsx-a11y/interactive-supports-focus */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/**\n * Copyright (c) Mik BRY\n * mik@mikbry.com\n *\n * This source code is licensed under the license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\nimport Popover from '@material-ui/core/Popover';\nimport { StylesProvider, createGenerateClassName, makeStyles } from '@material-ui/core/styles';\n\nimport ColorButton from './ColorButton';\nimport ColorBox from './ColorBox';\nimport * as ColorTool from '../helpers/colorTool';\nimport uncontrolled from '../helpers/uncontrolled';\nimport * as CommonTypes from '../helpers/commonTypes';\nimport useTranslate from '../helpers/useTranslate';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'row',\n    width: 'max-content',\n  },\n  colorpickerButton: {\n    margin: 6,\n  },\n});\n\nconst generateClassName = createGenerateClassName({\n  seed: 'ColorPicker',\n});\n\nconst getColorText = (color, disablePlainColor) => {\n  let text = disablePlainColor ? `color-${color.hex}` : color.name;\n  if (text.startsWith('color-')) {\n    if (typeof color.raw !== 'string' || !color.raw.startsWith('#')) {\n      text = ColorTool.getCssColor(color, 'hex');\n    } else {\n      text = color.raw;\n    }\n  } else if (text === 'none') {\n    text = color.raw;\n  }\n  return text;\n};\n\nconst ColorPicker = ({\n  value,\n  disableTextfield,\n  deferred,\n  palette,\n  inputFormats,\n  openAtStart,\n  onChange,\n  onOpen,\n  doPopup,\n  disableAlpha,\n  hslGradient,\n  hideTextfield,\n  disablePlainColor,\n}) => {\n  const classes = useStyles();\n  const refPicker = useRef(null);\n  const [open, setOpen] = useState(false);\n  const { t, i18n } = useTranslate();\n  const color = ColorTool.validateColor(value, disableAlpha, t, i18n.language, disablePlainColor);\n  const raw = getColorText(color, disablePlainColor);\n\n  useEffect(() => {\n    if (openAtStart) {\n      setOpen(true);\n    }\n  }, [openAtStart]);\n\n  const handleClick = () => {\n    const b = Boolean(refPicker.current);\n    setOpen(b);\n    if (onOpen) onOpen(b);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    if (onOpen) onOpen(false);\n  };\n\n  const handleColorChange = newColor => {\n    onChange(newColor);\n    if (deferred) {\n      handleClose();\n    }\n  };\n\n  const handleChange = event => {\n    onChange(event.target.value);\n  };\n\n  let box = (\n    <ColorBox\n      value={color}\n      style={{ position: 'relative' }}\n      deferred={deferred}\n      palette={palette}\n      inputFormats={inputFormats}\n      disableAlpha={disableAlpha}\n      hslGradient={hslGradient}\n      onChange={handleColorChange}\n    />\n  );\n  if (doPopup) {\n    box = doPopup(box);\n  } else {\n    box = (\n      <Popover\n        id=\"color-popover\"\n        open={open}\n        anchorEl={refPicker.current}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n      >\n        {box}\n      </Popover>\n    );\n  }\n\n  let textField = null;\n  if (!hideTextfield) {\n    textField = disableTextfield ? (\n      <div role=\"button\" data-testid=\"colorpicker-noinput\" onClick={handleClick}>\n        {color.raw}\n      </div>\n    ) : (\n      <TextField color=\"primary\" value={raw} onChange={handleChange} data-testid=\"colorpicker-input\" />\n    );\n  }\n\n  return (\n    <StylesProvider generateClassName={generateClassName}>\n      <div ref={refPicker} className={classes.root}>\n        <ColorButton\n          data-testid=\"colorpicker-button\"\n          className={`muicc-colorpicker-button ${classes.colorpickerButton}`}\n          color={color}\n          onClick={handleClick}\n        />\n        {textField}\n        {box}\n      </div>\n    </StylesProvider>\n  );\n};\n\nColorPicker.propTypes = {\n  value: CommonTypes.color,\n  disableTextfield: PropTypes.bool,\n  deferred: PropTypes.bool,\n  palette: CommonTypes.palette,\n  inputFormats: CommonTypes.inputFormats,\n  onChange: PropTypes.func.isRequired,\n  onOpen: PropTypes.func,\n  openAtStart: PropTypes.bool,\n  doPopup: PropTypes.func,\n  /**\n    Don't use alpha\n   */\n  disableAlpha: PropTypes.bool,\n  hslGradient: PropTypes.bool,\n  hideTextfield: PropTypes.bool,\n  disablePlainColor: PropTypes.bool,\n};\n\nColorPicker.defaultProps = {\n  value: 'none',\n  disableTextfield: false,\n  deferred: false,\n  palette: undefined,\n  inputFormats: ['hex', 'rgb'],\n  onOpen: undefined,\n  openAtStart: false,\n  doPopup: undefined,\n  disableAlpha: false,\n  hslGradient: false,\n  hideTextfield: false,\n  disablePlainColor: false,\n};\n\nexport default uncontrolled(ColorPicker);\n"],"names":["cssColorsTranslated","language","CSSCOLORS","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","getCssHexa","n","alpha","hex","toString","toUpperCase","substr","Number","isNaN","undefined","a","length","getRgb","c","rgbToInt","_rgb","rgb","map","_c","fromRgb","error","v","i","Math","round","substring","format","value","fromCssHexa","isInteger","padding","getDeg","_h","h","indexOf","PI","parseFloat","getValue","_v","fromHsl","_hsl","hsl","s","l","abs","x","m","floor","fromHsv","hsv","f","p","q","t","getMinMax","r","g","b","cmin","min","cmax","max","delta","getHsl","toFixed","getHsv","rc","gc","bc","tupleToArray","tuple","split","filter","e","colorsFormats","colorsFunc","cssColors","colorsCssFunc","colorsCssConditions","startsWith","parse","raw","_format","alpha255","disableAlpha","enablePlainColor","color","name","trim","toLocaleLowerCase","index","findIndex","func","css","backgroundColor","Array","isArray","push","backgroundImage","backgroundSize","backgroundPosition","Object","keys","find","getCssColor","validateColor","_color","translate","translateLanguage","disablePlainColor","isTranslated","forEach","translated","oneOfType","shape","number","string","array","arrayOf","palette","objectOf","inputFormats","globalTranslate","use","i18n","useTranslate","_translation","useStyles","makeStyles","root","props","colorError","boxShadow","borderColor","borderStyle","borderWidth","borderRadius","width","minWidth","height","content","background","border","hoverColor","tooltip","ColorButton","size","forwardRef","className","ColorTool","cssColor","classes","component","React","Button","ref","variant","Tooltip","title","propTypes","CommonTypes","isRequired","PropTypes","bool","current","elementType","defaultProps","useEnhancedEffect","window","useLayoutEffect","useEffect","useEventCallback","fn","useRef","useCallback","position","cssRgb","margin","gradientPosition","hsvGradientS","hsvGradientV","hslGradientS","hslGradientL","hsvGradientCursor","top","left","transition","cursor","pressed","zIndex","transform","outline","hsvGradientCursorC","HSVGradient","onChange","isHsl","latestColor","focus","onFocus","useState","box","cursorPos","y","setPosition","pos","style","initPosition","clientWidth","clientHeight","convertMousePosition","bounds","getBoundingClientRect","handleDown","event","preventDefault","handleUp","xy","pageX","scrollX","pageY","scrollY","handleMove","buttons","handleTouch","touches","addEventListener","removeEventListener","handleKey","key","handleFocus","handleBlur","tabIndex","role","onKeyDown","onBlur","Uncontrolled","Element","defaultValue","createElement","Composite","display","flexDirection","colorinputRaw","paddingRight","formControl","ColorInput","field","components","enableErrorDisplay","handleFieldChange","target","cn","id","values","cv","buildInput","unit","isStart","InputLabel","htmlFor","Input","label","placeholder","inputProps","startAdornment","InputAdornment","names","FormControl","FormHelperText","uncontrolled","flexWrap","paletteButton","ColorPalette","onSelect","onClick","translatedName","handleSelectColor","rail","opacity","track","thumb","marginTop","marginLeft","HueSlider","Slider","AlphaSlider","theme","paper","container","justifyContent","overflow","boxWidth","colorboxHsvGradient","colorboxSliders","colorboxInputs","colorboxInput","colorboxColorBg","colorboxColor","colorboxControls","colorboxError","lineHeight","ColorBox","onDeferredChange","deferred","_onChange","hslGradient","handleInputChange","newValue","colorParse","Box","hsvVal","valueLabelDisplay","alphaVal","input","Divider","colour","colorpickerButton","generateClassName","createGenerateClassName","seed","ColorPicker","disableTextfield","openAtStart","onOpen","doPopup","hideTextfield","refPicker","open","setOpen","text","getColorText","handleClick","Boolean","handleClose","newColor","Popover","anchorEl","onClose","anchorOrigin","vertical","horizontal","transformOrigin","textField","TextField","StylesProvider"],"mappings":"siEASA,ICsYIA,EACAC,EDvYEC,EAAY,CAChBC,UAAW,SACXC,aAAc,SACdC,KAAM,MACNC,WAAY,QACZC,MAAO,SACPC,MAAO,SACPC,OAAQ,SACRC,MAAO,EACPC,eAAgB,SAChBC,KAAM,IACNC,WAAY,QACZC,MAAO,SACPC,UAAW,SACXC,UAAW,QACXC,WAAY,QACZC,UAAW,SACXC,MAAO,SACPC,eAAgB,QAChBC,SAAU,SACVC,QAAS,SACTC,KAAM,MACNC,SAAU,IACVC,SAAU,MACVC,cAAe,SACfC,SAAU,SACVC,SAAU,SACVC,UAAW,MACXC,UAAW,SACXC,YAAa,QACbC,eAAgB,QAChBC,WAAY,SACZC,WAAY,SACZC,QAAS,QACTC,WAAY,SACZC,aAAc,QACdC,cAAe,QACfC,cAAe,QACfC,cAAe,QACfC,cAAe,MACfC,WAAY,QACZC,SAAU,SACVC,YAAa,MACbC,QAAS,QACTC,QAAS,QACTC,WAAY,QACZC,UAAW,SACXC,YAAa,SACbC,YAAa,QACbC,QAAS,SACTC,UAAW,SACXC,WAAY,SACZC,KAAM,SACNC,UAAW,SACXC,KAAM,QACNC,KAAM,QACNC,MAAO,MACPC,YAAa,SACbC,SAAU,SACVC,QAAS,SACTC,UAAW,SACXC,OAAQ,QACRC,MAAO,SACPC,MAAO,SACPC,SAAU,SACVC,cAAe,SACfC,UAAW,QACXC,aAAc,SACdC,UAAW,SACXC,WAAY,SACZC,UAAW,SACXC,qBAAsB,SACtBC,UAAW,SACXC,UAAW,SACXC,WAAY,QACZC,UAAW,SACXC,YAAa,SACbC,cAAe,QACfC,aAAc,QACdC,eAAgB,QAChBC,eAAgB,QAChBC,eAAgB,SAChBC,YAAa,SACbC,KAAM,MACNC,UAAW,QACXC,MAAO,SACPC,QAAS,SACTC,OAAQ,QACRC,iBAAkB,QAClBC,WAAY,IACZC,aAAc,SACdC,aAAc,QACdC,eAAgB,QAChBC,gBAAiB,QACjBC,kBAAmB,MACnBC,gBAAiB,QACjBC,gBAAiB,SACjBC,aAAc,QACdC,UAAW,SACXC,UAAW,SACXC,SAAU,SACVC,YAAa,SACbC,KAAM,IACNC,QAAS,SACTC,MAAO,QACPC,UAAW,QACXC,OAAQ,SACRC,UAAW,SACXC,OAAQ,SACRC,cAAe,SACfC,UAAW,SACXC,cAAe,SACfC,cAAe,SACfC,WAAY,SACZC,UAAW,SACXC,KAAM,SACNC,KAAM,SACNC,KAAM,SACNC,WAAY,SACZC,OAAQ,QACRC,cAAe,QACfC,IAAK,SACLC,UAAW,SACXC,UAAW,QACXC,YAAa,QACbC,OAAQ,SACRC,WAAY,SACZC,SAAU,QACVC,SAAU,SACVC,OAAQ,SACRC,OAAQ,SACRC,QAAS,QACTC,UAAW,QACXC,UAAW,QACXC,UAAW,QACXC,KAAM,SACNC,YAAa,MACbC,UAAW,QACXC,IAAK,SACLC,KAAM,MACNC,QAAS,SACTC,OAAQ,SACRC,UAAW,QACXC,OAAQ,SACRC,MAAO,SACPC,MAAO,SACPC,WAAY,SACZC,OAAQ,SACRC,YAAa,UCnJTC,EAAa,CAACC,EAAGC,SACjBC,EAAM,mBAAgB,SAAJF,GAAcG,SAAS,IAAIC,eAAgBC,QAAQ,OACpEC,OAAOC,MAAMN,SAAoBO,IAAVP,EAAqB,KAC3CQ,EAAIR,EAAME,SAAS,IAAIC,cACV,IAAbK,EAAEC,SAAcD,aAAQA,IAC5BP,GAAOO,SAEFP,GAGHS,EAASC,GAAK,EAAM,SAAJA,IAAiB,IAAS,MAAJA,IAAiB,EAAO,IAAJA,GAE1DC,EAAWC,QACTC,EAAMD,EAAKE,KAAIC,QACfL,EAAIK,GAAM,SACVL,EAAI,IAAGA,EAAI,GACXA,EAAI,MAAKA,EAAI,KACVA,YAEDG,EAAI,IAAM,GAAOA,EAAI,IAAM,GAAOA,EAAI,IAAM,EAAKA,EAAI,IAGzDG,EAAUJ,QACTA,GAAQA,EAAKJ,OAAS,GAAKI,EAAKJ,OAAS,QACrC,CAAES,MAAO,sBAEZJ,EAAMD,EAAKE,KAAI,CAACI,EAAGC,IAEV,iBAAND,EACiB,MAApBA,EAAEA,EAAEV,OAAS,GACXY,KAAKC,MAAMjB,OAAOc,IAAY,IAANC,EAAU,IAAM,IACxCC,KAAKC,MAAOjB,OAAOc,EAAEI,UAAU,EAAGJ,EAAEV,OAAS,IAAM,IAAO,KAC5DY,KAAKC,MAAY,IAANF,EAAc,IAAJD,EAAUA,WAG9B,CAAEK,OAAQ,MAAOC,MADVb,EAASE,GACQA,IAAAA,EAAKd,MAAOc,EAAI,KAG3CY,EAAczB,QACdD,EACAyB,EAAQpB,mBAAYJ,EAAIsB,UAAU,SACjClB,OAAOsB,UAAUF,IAAUpB,OAAOC,MAAMmB,SACpC,CAAEP,MAAO,wBAEZJ,EAAM,MACO,IAAfb,EAAIQ,QAA+B,IAAfR,EAAIQ,OAAc,KAClCmB,EAAyB,IAAf3B,EAAIQ,OAAe,EAAI,EAEvCK,EAAI,GAAMW,GAAU,GAAKG,EAAY,IACrCd,EAAI,GAAMW,GAAU,EAAIG,EAAY,IACpCd,EAAI,GAAMW,GAASG,EAAW,IACX,IAAf3B,EAAIQ,SAENT,EAAgB,IAARyB,EACRX,EAAI,GAAKd,EACTyB,EAAQb,EAASE,QAEd,CAAA,GAAmB,IAAfb,EAAIQ,QAA+B,IAAfR,EAAIQ,aAiB1B,CAAES,MAAO,oBAhBVU,EAAyB,IAAf3B,EAAIQ,OAAe,EAAI,EAEvCK,EAAI,GAAMW,GAAU,EAAIG,EAAY,GACpCd,EAAI,GAAMW,GAAU,EAAIG,EAAY,GACpCd,EAAI,GAAMW,GAASG,EAAW,GAC9Bd,EAAI,IAAMA,EAAI,IAAM,EACpBA,EAAI,IAAMA,EAAI,IAAM,EACpBA,EAAI,IAAMA,EAAI,IAAM,EACD,IAAfb,EAAIQ,SAENT,EAAgB,GAARyB,EACRzB,GAASA,GAAS,EAClBc,EAAI,GAAKd,GAEXyB,EAAQb,EAASE,SAIZ,CAAEU,OAAQ,MAAOC,MAAAA,EAAOX,IAAAA,EAAKd,MAAAA,IAGhC6B,EAASC,QACTC,EAAID,QACS,iBAANC,IAELA,EAAEC,QAAQ,QAAU,EAAGD,EAAIA,EAAE3B,OAAO,EAAG2B,EAAEtB,OAAS,GAC7CsB,EAAEC,QAAQ,QAAU,EAAGD,EAAIV,KAAKC,MAAMS,EAAE3B,OAAO,EAAG2B,EAAEtB,OAAS,IAAM,IAAMY,KAAKY,KAC9EF,EAAEC,QAAQ,SAAW,IAAGD,EAAIV,KAAKC,MAAkC,IAA5BS,EAAE3B,OAAO,EAAG2B,EAAEtB,OAAS,KACvEsB,EAAIG,WAAWH,EAAG,KAEhB1B,OAAOC,MAAMyB,KAAIA,EAAI,GACrBA,GAAK,MAAKA,GAAK,KACfA,EAAI,IAAGA,EAAI,GACRA,GAGHI,EAAWC,QACXjB,EAAIiB,QACS,iBAANjB,IAAgBA,EAAIe,WAAWf,EAAEa,QAAQ,MAAQ,EAAIb,EAAEI,UAAU,EAAGJ,EAAEV,OAAS,GAAKU,EAAG,KAC9Fd,OAAOC,MAAMa,GAAIA,EAAI,EAChBA,EAAI,IAAKA,EAAI,IACbA,EAAI,IAAGA,EAAI,GACbA,GAGHkB,EAAUC,QACTA,GAAQA,EAAK7B,OAAS,GAAK6B,EAAK7B,OAAS,QACrC,CAAES,MAAO,wBAEdJ,EACEyB,EAAMD,EACNP,EAAIF,EAAOU,EAAI,IACjBC,EAAIL,EAASI,EAAI,IACjBE,EAAIN,EAASI,EAAI,IACrBA,EAAI,GAAKR,EACTQ,EAAI,GAAKC,EACTD,EAAI,GAAKE,EAGTA,GAAK,QACC9B,GAFN6B,GAAK,MAEU,EAAInB,KAAKqB,IAAI,EAAID,EAAI,IAC9BE,EAAIhC,GAAK,EAAIU,KAAKqB,IAAMX,EAAI,GAAM,EAAK,IACzCa,EAAIH,EAAI9B,EAAI,EACN,IAAN6B,GACF1B,EAAM,CAAC2B,EAAGA,EAAGA,GACbG,EAAI,GAEJ9B,EADSiB,GAAK,GAAKA,EAAI,GACjB,CAACpB,EAAGgC,EAAG,GACJZ,GAAK,IAAMA,EAAI,IAClB,CAACY,EAAGhC,EAAG,GACJoB,GAAK,KAAOA,EAAI,IACnB,CAAC,EAAGpB,EAAGgC,GACJZ,GAAK,KAAOA,EAAI,IACnB,CAAC,EAAGY,EAAGhC,GACJoB,GAAK,KAAOA,EAAI,IACnB,CAACY,EAAG,EAAGhC,GAEP,CAACA,EAAG,EAAGgC,GAEf7B,EAAI,GAAKO,KAAKC,MAAqB,KAAdR,EAAI,GAAK8B,IAC9B9B,EAAI,GAAKO,KAAKC,MAAqB,KAAdR,EAAI,GAAK8B,IAC9B9B,EAAI,GAAKO,KAAKC,MAAqB,KAAdR,EAAI,GAAK8B,QAC1B5C,EAAQuC,EAAI,eACFhC,IAAVP,IACmB,iBAAVA,IACTA,EACEA,EAAMgC,QAAQ,MAAQ,EAAIE,WAAWlC,EAAMuB,UAAU,EAAGvB,EAAMS,OAAS,GAAI,IAAM,IAAMyB,WAAWlC,EAAO,KAE7GA,EAAQqB,KAAKwB,MAAc,IAAR7C,GACnBc,EAAI,GAAKd,GAGJ,CAAEwB,OAAQ,MAAOC,MADVb,EAASE,GACQA,IAAAA,EAAKyB,IAAAA,EAAKvC,MAAAA,IAGrC8C,EAAUC,QACTA,GAAOA,EAAItC,OAAS,GAAKsC,EAAItC,OAAS,QAClC,CAAES,MAAO,wBAEdJ,EACAiB,EAAIF,EAAOkB,EAAI,IACfP,EAAIL,EAASY,EAAI,IACjB5B,EAAIgB,EAASY,EAAI,OAErB5B,GAAK,KACK,IAANqB,EAEF1B,EAAM,CADNK,EAAIE,KAAKC,MAAMH,GACLA,EAAGA,OACR,CACLY,GAAK,IACLS,GAAK,QACDpB,EAAIC,KAAKwB,MAAU,EAAJd,GACbiB,EAAQ,EAAJjB,EAAQX,EACZ6B,EAAI5B,KAAKC,MAAMH,GAAK,EAAIqB,IACxBU,EAAI7B,KAAKC,MAAMH,GAAK,EAAIqB,EAAIQ,IAC5BG,EAAI9B,KAAKC,MAAMH,GAAK,EAAIqB,GAAK,EAAIQ,KACvC7B,EAAIE,KAAKC,MAAMH,GAGFL,EAAH,KADVM,GAAK,GACc,CAACD,EAAGgC,EAAGF,GACX,IAAN7B,EAAe,CAAC8B,EAAG/B,EAAG8B,GAChB,IAAN7B,EAAe,CAAC6B,EAAG9B,EAAGgC,GAChB,IAAN/B,EAAe,CAAC6B,EAAGC,EAAG/B,GAChB,IAANC,EAAe,CAAC+B,EAAGF,EAAG9B,GACD,CAACA,EAAG8B,EAAGC,OAEnClD,EAAQ+C,EAAI,eACFxC,IAAVP,IACmB,iBAAVA,IACTA,EACEA,EAAMgC,QAAQ,MAAQ,EAAIE,WAAWlC,EAAMuB,UAAU,EAAGvB,EAAMS,OAAS,GAAI,IAAM,IAAMyB,WAAWlC,EAAO,KAE7GA,EAAQqB,KAAKwB,MAAc,IAAR7C,GACnBc,EAAI,GAAKd,GAGJ,CAAEwB,OAAQ,MAAOC,MADVb,EAASE,GACQA,IAAAA,EAAKiC,IAAAA,EAAK/C,MAAAA,IAGrCoD,EAAYtC,QACVuC,EAAIvC,EAAI,GAAK,IACbwC,EAAIxC,EAAI,GAAK,IACbyC,EAAIzC,EAAI,GAAK,IACb0C,EAAOnC,KAAKoC,IAAIJ,EAAGC,EAAGC,GACtBG,EAAOrC,KAAKsC,IAAIN,EAAGC,EAAGC,SAErB,CAAEG,KAAAA,EAAMF,KAAAA,EAAMI,MADPF,EAAOF,EACOH,EAAAA,EAAGC,EAAAA,EAAGC,EAAAA,IAG9BM,EAAS/C,QACP0C,KAAEA,EAAFE,KAAQA,EAARE,MAAcA,EAAdP,EAAqBA,EAArBC,EAAwBA,EAAxBC,EAA2BA,GAAMH,EAAUtC,GAC7CiB,EAAI,EACJS,EAAI,EACJC,GAAKe,EAAOE,GAAQ,EACV,IAAVE,IACFpB,EAAIoB,GAAS,EAAIvC,KAAKqB,IAAI,EAAID,EAAI,IAClCD,EAAInB,KAAKC,QAAY,IAAJkB,GAASsB,QAAQ,IAElB/B,EAAZ2B,IAASL,GAASC,EAAIC,GAAKK,EAAS,EAC/BF,IAASJ,GAAQC,EAAIF,GAAKO,EAAQ,GACjCP,EAAIC,GAAKM,EAAQ,GAC3B7B,EAAIV,KAAKC,MAAU,GAAJS,IACP,IAAGA,GAAK,UAGZQ,EAAM,CAACR,EAAGS,EADhBC,EAAIpB,KAAKC,MAAMmB,EAAQ,IAAJA,WAEA,IAAf3B,EAAIL,SACN8B,EAAI,GAAKzB,EAAI,GAAK,KAEbyB,GAGHwB,EAASjD,QACP4C,KAAEA,EAAFE,MAAQA,EAARP,EAAeA,EAAfC,EAAkBA,EAAlBC,EAAqBA,GAAMH,EAAUtC,MAC7B,IAAV8C,EAAa,MAAO,CAAC,EAAG,EAAGvC,KAAKC,MAAa,IAAPoC,QAQtC3B,EANAZ,EAAIuC,EACJlB,EAAIoB,EAAQF,EACVM,GAAMN,EAAOL,GAAKO,EAClBK,GAAMP,EAAOJ,GAAKM,EAClBM,GAAMR,EAAOH,GAAKK,SAMxB7B,GAHgBA,EAAZsB,IAAMK,EAAUQ,EAAKD,EAChBX,IAAMI,EAAU,EAAIM,EAAKE,EACzB,EAAMD,EAAKD,GACX,EAAO,GACR,IAAGjC,GAAK,GAKT,CAHPA,EAAIV,KAAKC,MAAU,IAAJS,GACfS,EAAInB,KAAKC,MAAU,IAAJkB,GACfrB,EAAIE,KAAKC,MAAU,IAAJH,KAIXgD,EAAe1C,QACb2C,EAAQ3C,EAAMF,UAAUE,EAAMO,QAAQ,KAAO,EAAGP,EAAMO,QAAQ,aAChEoC,EAAMpC,QAAQ,MAAQ,EACjBoC,EAAMC,MAAM,KAEjBD,EAAMpC,QAAQ,MAAQ,EACjBoC,EAAMC,MAAM,KAAKC,QAAOC,GAAKA,EAAE9D,OAAS,GAAW,MAAN8D,YAKlDC,EAAgB,CAAC,QAAS,MAAO,MAAO,MAAO,OAE/CC,EAAa,CACjBhD,KAAYD,OAAQ,QAASC,MAAOiD,EAAUjD,EAAM,MACpDA,GAASC,EAAYD,EAAM,IAC3BA,GAASR,EAAQQ,GACjBA,GAASY,EAAQZ,GACjBA,GAASqB,EAAQrB,IAGbkD,EAAgB,CACpBlD,KAAYD,OAAQ,QAASC,MAAOiD,EAAUjD,KAC9CA,GAASC,EAAYD,GACrBA,GAASR,EAAQkD,EAAa1C,IAC9BA,GAASY,EAAQ8B,EAAa1C,KAG1BmD,EAAsB,CAC1BnD,QAA8BlB,IAArBmE,EAAUjD,GACnBA,GAASA,EAAMoD,WAAW,KAC1BpD,GAASA,EAAMoD,WAAW,SAAWpD,EAAMoD,WAAW,SACtDpD,GAASA,EAAMoD,WAAW,SAAWpD,EAAMoD,WAAW,UAGlDC,EAAQ,SAACC,EAAKC,OAEdvD,EACAzB,EACAc,EACAyB,EACAQ,EACA7B,EA4DA+D,EAnEuBC,0DAAsBC,6DAC3CC,EAAQ,CAAEL,IAAAA,GAOZvD,EAASwD,GAAW,aACZ,gBAARD,EACFK,EAAMC,KAAON,EACbvD,EAAS,QACTxB,EAAQ,OACH,GAAmB,iBAAR+E,EAAkB,KAC5B1B,EAAI0B,EAAIO,OAAOC,oBACfC,EAAQZ,EAAoBa,WAAUC,GAAQA,EAAKrC,KACrDmC,GAAS,MACR/D,MAAAA,EAAOD,OAAAA,EAAQV,IAAAA,EAAKyB,IAAAA,EAAKvC,MAAAA,EAAOkB,MAAAA,GAAUyD,EAAca,GAAOnC,IACnD,UAAX7B,IAAoB4D,EAAMC,KAAON,GAEjCvD,IAAQ4D,EAAMO,IAAM,CAAEC,gBAAiBb,UAExC,GAAI1E,OAAOsB,UAAUoD,GAC1BtD,EAAQsD,EACRvD,EAAS,cACJ,GAAIqE,MAAMC,QAAQf,IAAQvD,EAAQ,KACjCgE,EAAQhB,EAAciB,WAAUzC,GAAKA,IAAMxB,IAC7CgE,GAAS,IACR/D,MAAAA,EAAOD,OAAAA,EAAQV,IAAAA,EAAKyB,IAAAA,EAAKQ,IAAAA,EAAK/C,MAAAA,EAAOkB,MAAAA,GAAUuD,EAAWe,GAAOT,IAEpE7D,EAAQ,qBAED6D,GAAO,MAAOA,GAAO,MAAOA,GAAO,MAAOA,GACnDjE,EAAM,CAACiE,EAAI1B,EAAG0B,EAAIzB,EAAGyB,EAAIxB,GACrBwB,EAAIvE,GAAGM,EAAIiF,KAAKhB,EAAIvE,KACrBiB,MAAAA,EAAOD,OAAAA,EAAQV,IAAAA,EAAKd,MAAAA,EAAOkB,MAAAA,GAAUD,EAAQH,KACvCiE,GAAO,MAAOA,GAAO,MAAOA,GAAO,MAAOA,GACnDxC,EAAM,CAACwC,EAAIhD,EAAGgD,EAAIvC,EAAGuC,EAAItC,GACrBsC,EAAIvE,GAAG+B,EAAIwD,KAAKhB,EAAIvE,KACrBiB,MAAAA,EAAOD,OAAAA,EAAQV,IAAAA,EAAKyB,IAAAA,EAAKvC,MAAAA,EAAOkB,MAAAA,GAAUmB,EAAQE,KAC5CwC,GAAO,MAAOA,GAAO,MAAOA,GAAO,MAAOA,IACnDhC,EAAM,CAACgC,EAAIhD,EAAGgD,EAAIvC,EAAGuC,EAAI5D,GACrB4D,EAAIvE,GAAGuC,EAAIgD,KAAKhB,EAAIvE,KACrBiB,MAAAA,EAAOD,OAAAA,EAAQV,IAAAA,EAAKiC,IAAAA,EAAK/C,MAAAA,EAAOkB,MAAAA,GAAU4B,EAAQC,UAEzCxC,IAAVkB,IACFA,EAAQ,EACRzB,EAAkB,IAAVA,EAAcA,OAAQO,EAC9B6E,EAAMO,IAAM,CACVK,qQAKAC,eAAgB,UAChBC,mBAAoB,gCACpBN,gBAAiB,SAEP,gBAARb,IACFvD,EAAS,UACT4D,EAAMC,KAAO,SAGbnE,IAAOkE,EAAMlE,MAAQA,GACzBkE,EAAM3D,MAAQA,EACd2D,EAAMpF,MAAQK,OAAOC,MAAMN,SAAoBO,IAAVP,EAAsB,EAAIA,EAAQ,IACvEoF,EAAM5D,OAASA,EAEV0D,GAAgC,IAAhBE,EAAMpF,MAEA,IAAhBoF,EAAMpF,QAAgC,WAAjBoF,EAAM3D,QAEpCwD,EAAW,KAHXA,EAAW5D,KAAKwB,MAAoB,IAAduC,EAAMpF,WAKxBC,EAAMH,EAAW2B,EAAOwD,UAC9BG,EAAMnF,IAAMA,EACZa,EAAMA,GAAOJ,EAAOe,GACpB2D,EAAMtE,IAAMA,EACZsE,EAAMrC,IAAMA,GAAOgB,EAAOjD,GAC1BsE,EAAM7C,IAAMA,GAAOsB,EAAO/C,GACrBsE,EAAMO,MACTP,EAAMO,IAAM,CAAEC,2BAAqB3F,KAEhCmF,EAAMC,OAETD,EAAMC,KAAQF,GAAoBgB,OAAOC,KAAK1B,GAAW2B,MAAKtG,GAAK2E,EAAU3E,KAAO0B,qBAAoBxB,IAEnGmF,GAGHkB,GAAc,CAAClB,EAAO5D,EAAQ0D,SAC9BzD,QACW,QAAXD,IACFC,aAAY3B,EACVsF,EAAM3D,MACNyD,GAAgC,IAAhBE,EAAMpF,WAAcO,EAAYc,KAAKwB,MAAoB,IAAduC,EAAMpF,UAG9DyB,GAMH8E,GAAgB,SAACC,EAAQtB,EAAcuB,EAAWC,OAAmBC,0DACrEvB,EAAQoB,EACRI,GAAe,SACbJ,GAAUA,EAAOhF,QAAUgF,EAAOnB,KAqB7BD,EAAMlE,OAASuF,IACxBrB,EAAMlE,MAAQuF,EAAUrB,EAAMlE,SArB9BkE,EAAQoB,EACJC,GAA8B,iBAAVrB,IACjB7O,GAAuBmQ,IAAsBlQ,IAChDA,EAAWkQ,EACXnQ,EAAsB,GACtB4P,OAAOC,KAAK1B,GAAWmC,SAAQxB,IAC7B9O,EAAoBkQ,EAAUpB,IAASA,MAI3CuB,GADAxB,EAAQ7O,EAAoB6O,IAAUA,KACboB,IAE3BpB,EAAQN,EAAMM,EAAO,KAAMF,GAAeyB,IAChCtB,MAAQoB,IAChBrB,EAAM0B,WAAaL,EAAUrB,EAAMC,MAC/BuB,GAAgBxB,EAAM0B,aACxB1B,EAAMC,KAAOD,EAAM0B,YAEjB1B,EAAMlE,QAAOkE,EAAMlE,MAAQuF,EAAUrB,EAAMlE,UAK5CkE,GCpaHA,GAAQ2B,EAAU,CACtBC,EAAM,CACJrB,IAAKqB,EAAM,IAGXvF,MAAOwF,EACPhH,IAAKiH,EACLnC,IAAKgC,EAAU,CAACG,EAAQC,EAAOF,EAAQD,IACvC3B,KAAM6B,EACNlH,MAAOiH,EACPnG,IAAKsG,EAAQH,GACblE,IAAKqE,EAAQH,GACb1E,IAAK6E,EAAQH,KAEfC,EACAD,IAGII,GAAUC,EAASJ,GAEnBK,GAAeH,EAAQF,GCpBvBM,GAAkB,CAAEC,IAAK,MAASC,KAAM,CAAElR,SAAU,MAAQ2M,EAAGhC,GAAKA,KAEpEwG,GAAeC,IACfA,IAAcJ,GAAgBC,IAAMG,GACjCJ,GAAgBC,OCInBI,GAAYC,EAAW,CAC3BC,KAAM,CACJ/B,gBAAiBgC,GACfA,EAAMC,YAAcD,EAAMhI,MAAQ,uOAM9B,OACNiG,eAAgB,UAChBC,mBAAoB,gCACpBN,gBAAiBoC,GAASA,EAAMpC,iBAAmB,OACnDsC,UAAW,kEACXC,YAAaH,GAASA,EAAMG,aAAe,UAC3CC,YAAa,QACbC,YAAaL,GAASA,EAAMK,aAAe,EAC3CC,aAAc,EACd1G,QAAS,EACT2G,MAAOP,GAASA,EAAMO,MACtBC,SAAUR,GAASA,EAAMQ,SACzBC,OAAQT,GAASA,EAAMS,eACd,CACPC,QAAS,MACTC,WAAYX,GACVA,EAAMC,sGAIMD,EAAMO,MAAQ,EAAI,gCACtBP,EAAMO,MAAQ,EAAI,gCAClBP,EAAMO,MAAQ,EAAI,eAEtB,OACN3C,gBAAiBoC,GAAUA,EAAMC,WAAa,cAAgBD,EAAMpC,iBAAmB,OACvF2C,MAAOP,GAASA,EAAMO,MACtBC,SAAUR,GAASA,EAAMQ,SACzBC,OAAQT,GAASA,EAAMS,OACvBG,OAAQZ,GACNA,EAAMC,WAAa,8BAAyBD,EAAMK,aAAe,sBAAaL,EAAMG,aAAe,WACrGG,aAAc,EACd1G,QAAS,iBAEI,CACbgE,gBAAiBoC,GAASA,EAAMa,uBAEtB,CACVX,UAAW,kBAGF,CACTA,UAAW,wCAIfY,QAAS,CACPP,MAAO,iBAQLQ,WACJ3D,MAAOzE,EADYqI,KAEnBA,EAFmBX,YAGnBA,EAHmBF,YAInBA,EAJmBc,WAKnBA,EALmBH,QAMnBA,EANmB5D,aAOnBA,EAPmBgE,UAQnBA,KACGlB,uGAEG7E,EAAEA,EAAFuE,KAAKA,GAASC,KACdvC,EAAQ+D,GAAwBxI,EAAGuE,EAAc/B,EAAGuE,EAAKlR,UACzDsQ,EAAa3D,EAAE2F,GACfM,EAAWhE,EAAMO,IACnBlD,EAAI2C,EAAM7C,IAAI,GAAK,GACnBE,EAAI,KAAIA,EAAI2C,EAAM7C,IAAI,GAAK,QACzB/B,EAAI4E,EAAMpF,MACV6I,gBAAoBzD,EAAM7C,IAAI,gBAAO6C,EAAM7C,IAAI,iBAAQE,gBAAOjC,OAC9D6I,EAAUxB,MACdU,MAAOS,EACPR,SAAUQ,EACVP,OAAQO,EACRH,WAAAA,EACAV,YAAAA,EACAE,YAAAA,EACArI,MAAOQ,EACPyH,aAAc7C,EAAMlE,OACjBkI,IAECE,EACJC,gBAACC,mBACa,cACZN,oBAAcG,EAAQtB,iBAAQmB,MAAAA,EAAAA,EAAa,IAC3CO,IAAKR,EACLS,QAAQ,yBACItE,EAAMC,MACd2C,GAEJuB,oCAGAT,EAEAS,gBAACI,GAAQC,MAAO9C,GACdyC,uBAAKL,UAAWG,EAAQP,SAAUQ,IAIjCA,GAGTP,GAAYc,UAAY,CAItBzE,MAAO0E,GAAkBC,WAIzBf,KAAMgB,EAAU/C,OAIhB/B,aAAc8E,EAAUC,KAIxB5B,YAAa2B,EAAU/C,OAIvBkB,YAAa6B,EAAU9C,OAIvB4B,QAASkB,EAAU9C,OAInB+B,WAAYe,EAAUhD,MAAM,CAAEkD,QAASF,EAAUG,eAGnDpB,GAAYqB,aAAe,CACzBpB,KAAM,GACNX,YAAa,EACbF,iBAAa5H,EACb0I,gBAAY1I,EACZuI,aAASvI,EACT2E,cAAc,GCvKhB,IAAMmF,GAAsC,oBAAXC,OAAyBf,EAAMgB,gBAAkBhB,EAAMiB,UAOzE,SAASC,GAAiBC,OACjCjB,EAAMF,EAAMoB,OAAOD,UACzBL,IAAkB,KAChBZ,EAAIS,QAAUQ,KAETnB,EAAMqB,aAAY,kBAAa,EAAInB,EAAIS,yBAAmB,ICDnE,IAoBMrC,GAAYC,EAAW,CAC3BC,KAAM,CACJ8C,SAAU,WACVtC,MAAO,UACPE,OAAQ,UACRE,WAAYX,aAAYA,EAAM8C,oCAC9BC,OAAQ,GAEVC,iBAAkB,CAChBH,SAAU,WACVtC,MAAO,OACPE,OAAQ,QAEVwC,aAAc,CACZtC,WACE,8GAEJuC,aAAc,CACZvC,WAAY,gGAEdwC,aAAc,CACZxC,WACE,+GAEJyC,aAAc,CACZzC,WACE,2HAEJ0C,kBAAmB,CACjBR,SAAU,WACVS,IAAK,EACLC,KAAM,EACNpD,YAAa,UACbE,YAAa,EACbD,YAAa,QACbF,UAAW,sCACXsD,WAAY,oDACZlD,aAAc,EACdmD,OAAQzD,IAAUA,EAAM0D,SAAW,UACnCC,OAAQ,IACRC,UAAW,kCACA,CACT1D,UAAW,qDAEF,CACT2D,QAAS,kBACT3D,UAAW,2DAEI,IAInB4D,mBAAoB,CAClBvD,MAAO,EACPE,OAAQ,EACRH,aAAc,EACdJ,UAAW,yEAIT6D,WAAe7C,UAAEA,EAAF9D,MAAaA,EAAb4G,SAAoBA,EAApBC,MAA8BA,KAAUjE,gDACrDkE,EAAc3C,EAAMoB,OAAOvF,IAC1B+G,EAAOC,GAAW7C,EAAM8C,UAAS,GAClCX,EAAUnC,EAAMoB,QAAO,GAC7BpB,EAAMiB,WAAU,KACd0B,EAAYhC,QAAU9E,SArFXtD,EAEPC,EACFZ,EACAC,EACE4B,EAEAE,EACAC,EA+EAmJ,EAAM/C,EAAMoB,SACZc,EAASlC,EAAMoB,SACjB4B,EAAY,CAAE5J,EAAG,EAAG6J,EAAG,GACrB1L,GA1FOgB,EA0FMsD,EAAMrC,IAAI,GAxFvBhB,EAAID,EAAK,IACXX,EAAI,IACJC,EAAIC,KAAKwB,MAAU,EAAJd,GACbiB,EAAQ,EAAJjB,EAAQX,EAEZ8B,EAAI7B,KAAKC,MAAMH,GAAK,EAAI6B,IACxBG,EAAI9B,KAAKC,MAAMH,EAAI6B,GACzB7B,EAAIE,KAAKC,MAAMH,GAEL,IADVC,GAAK,GACc,CAACD,EAAGgC,EALb,GAMK,IAAN/B,EAAe,CAAC8B,EAAG/B,EANlB,GAOK,IAANC,EAAe,CAPd,EAOkBD,EAAGgC,GAChB,IAAN/B,EAAe,CARd,EAQkB8B,EAAG/B,GAChB,IAANC,EAAe,CAAC+B,EATf,EASqBhC,GACpB,CAACA,EAVF,EAUQ+B,IA2EZ4H,gBAAgBhK,EAAI,eAAMA,EAAI,eAAMA,EAAI,QACxCuI,EAAUxB,UAAeG,OAAO8C,OAAAA,KAEhC2B,EAAc,CAACC,EAAK1J,KACxBuJ,EAAYG,EACZjB,EAAOvB,QAAQyC,MAAMrB,cAASoB,EAAIF,QAClCf,EAAOvB,QAAQyC,MAAMpB,eAAUmB,EAAI/J,QAC/BK,GACFyI,EAAOvB,QAAQiC,SAIbS,EAAenD,OACfA,EAAK,KACD1G,IAAEA,EAAFR,IAAOA,GAAQ6C,EACrBmH,EAAY,CACV5J,EAAGtB,KAAKC,OAAQ2K,EAAQ,IAAM1J,EAAI,GAAKQ,EAAI,IAAM,KAAQ0G,EAAIoD,YAAc,IAC3EL,EAAGnL,KAAKC,OAAQ2K,EAAQ1J,EAAI,GAAK,IAAMQ,EAAI,IAAM,KAAQ0G,EAAIqD,aAAe,KAE9EL,EAAYF,KAIhBK,EAAaN,EAAIpC,SACboC,EAAIpC,UACNoC,EAAIpC,QAAQyC,MAAMhE,qBAAgBmC,oCAG9BiC,EAAuB,GAAWtD,SAAV9G,EAAEA,EAAF6J,EAAKA,KAC3BQ,EAASvD,EAAIwD,wBACbP,EAAM,CAAE/J,EAAGA,EAAIqK,EAAOzB,KAAMiB,EAAGA,EAAIQ,EAAO1B,KAC5CoB,EAAI/J,EAAI,IACV+J,EAAI/J,EAAI,GAEN+J,EAAIF,EAAI,IACVE,EAAIF,EAAI,GAENE,EAAI/J,GAAK8G,EAAIoD,cACfH,EAAI/J,EAAI8G,EAAIoD,YAAc,GAExBH,EAAIF,GAAK/C,EAAIqD,eACfJ,EAAIF,EAAI/C,EAAIqD,aAAe,GAE7BL,EAAYC,GAAK,OACX/L,EAAIuL,EAAYhC,WAClB+B,EAAO,KACHzJ,EAAKkK,EAAIF,GAAK/C,EAAIqD,aAAe,GAAM,IACvCrK,EAA0C,KAArC,EAAIiK,EAAI/J,GAAK8G,EAAIoD,YAAc,IAC1Cb,EAAS,CAACrL,EAAE4B,IAAI,GAAIC,EAAGC,QAClB,KACCD,EAAKkK,EAAI/J,GAAK8G,EAAIoD,YAAc,GAAM,IACtC1L,EAA2C,KAAtC,EAAIuL,EAAIF,GAAK/C,EAAIqD,aAAe,IAC3Cd,EAAS,CAACrL,EAAEoC,IAAI,GAAIP,EAAGrB,MAI3BoI,EAAMiB,WAAU,SACRf,EAAM6C,EAAIpC,QAChB0C,EAAanD,OACPyD,EAAaC,IACjBf,GAAQ,GACRV,EAAQxB,SAAU,EAClBiD,EAAMC,kBAEFC,EAAWF,QACTG,EAAK,CAAE3K,EAAGwK,EAAMI,MAAQjD,OAAOkD,QAAShB,EAAGW,EAAMM,MAAQnD,OAAOoD,SACtEX,EAAqBO,EAAI7D,GACzBiC,EAAQxB,SAAU,EAClBiD,EAAMC,kBAEFO,EAAaR,OACbzB,EAAQxB,SAAWiD,EAAMS,QAAS,KAC9BN,EAAK,CAAE3K,EAAGwK,EAAMI,MAAQjD,OAAOkD,QAAShB,EAAGW,EAAMM,MAAQnD,OAAOoD,SACtEX,EAAqBO,EAAI7D,GACzB0D,EAAMC,mBAGJS,EAAcV,QACZG,EAAK,CAAE3K,EAAGwK,EAAMW,QAAQ,GAAGP,MAAQjD,OAAOkD,QAAShB,EAAGW,EAAMW,QAAQ,GAAGL,MAAQnD,OAAOoD,SAC5FX,EAAqBO,EAAI7D,GACzB0D,EAAMC,yBAGR3D,EAAIsE,iBAAiB,YAAab,GAClCzD,EAAIsE,iBAAiB,UAAWV,GAChC5D,EAAIsE,iBAAiB,YAAaJ,GAClClE,EAAIsE,iBAAiB,YAAab,GAClCzD,EAAIsE,iBAAiB,UAAWV,GAChC5D,EAAIsE,iBAAiB,YAAaF,GAC3B,KACLpE,EAAIuE,oBAAoB,YAAad,GACrCzD,EAAIuE,oBAAoB,UAAWX,GACnC5D,EAAIuE,oBAAoB,YAAaL,GACrClE,EAAIuE,oBAAoB,YAAad,GACrCzD,EAAIuE,oBAAoB,UAAWX,GACnC5D,EAAIuE,oBAAoB,YAAaH,MAEtC,QACGI,EAAYxD,IAAiB0C,OAC5BhB,OACDxJ,EAAEA,EAAF6J,EAAKA,GAAMD,SACPY,EAAMe,SACP,aACHvL,GAAK,YAEF,YACHA,GAAK,YAEF,YACH6J,GAAK,YAEF,UACHA,GAAK,YAEF,kBACHJ,GAAQ,kBAKZe,EAAMC,qBACAJ,EAASV,EAAIpC,QAAQ+C,wBAC3BF,EAAqB,CAAEpK,EAAGA,EAAIqK,EAAOzB,KAAMiB,EAAGA,EAAIQ,EAAO1B,KAAOgB,EAAIpC,aAEhEiE,EAAc1D,IAAiB0C,IACnCf,GAAQ,GACRe,EAAMC,oBAEFgB,EAAa3D,IAAiB0C,IAClCf,GAAQ,GACRe,EAAMC,2BAGN7D,uBAAKL,UAAWA,GACdK,yBAAKL,UAAWG,EAAQtB,MAAUC,GAAOyB,IAAK6C,gBAAiB,sBAC7D/C,uBACEL,wCAAkC+C,EAAQ5C,EAAQ8B,aAAe9B,EAAQ4B,yBACvE5B,EAAQ2B,mBAGVzB,uBACEL,wCAAkC+C,EAAQ5C,EAAQ+B,aAAe/B,EAAQ6B,yBACvE7B,EAAQ2B,mBAGVzB,uBACEE,IAAKgC,EACL4C,SAAS,IACTC,KAAK,yBACU,oBACA,kBACAlJ,EAAMrC,IAAI,GACzB2I,kBAAYA,EAAQxB,uBACR,qBACZhB,6CAAuCG,EAAQgC,mBAC/CkD,UAAWN,EACX7B,QAAS+B,EACTK,OAAQJ,GAER7E,uBAAKL,+CAAyCG,EAAQyC,4BASpEC,GAAYlC,UAAY,CACtBzE,MAAO0E,GAAkBC,WACzBb,UAAWc,EAAU9C,OAAO6C,WAC5BiC,SAAUhC,EAAUtE,KAAKqE,WACzBkC,MAAOjC,EAAUC,MAGnB8B,GAAY3B,aAAe,CACzB6B,OAAO,GC9QT,IAAMwC,WAAgBC,QAAEA,EAAFC,aAAWA,KAAiB3G,mCACzCvG,EAAOuK,GAAYzC,EAAM8C,SAASsC,UAClCpF,EAAMqF,cAAcF,SAAc1G,OAAOvG,MAAAA,EAAOuK,SAAAA,SAG1C0C,QACPG,UAAaF,aAAEA,EAAFlN,MAAgBA,EAAhBuK,SAAuBA,KAAahE,kDACrDgE,GAAsB,SAAVvK,EACR8H,EAAMqF,cAAcF,KAAWjN,MAAOA,GAASkN,EAAc3C,SAAUA,aAA2BhE,IAClGuB,EAAMqF,cAAcH,MAAgBC,QAAAA,EAASC,aAAAA,GAAiB3G,YACpE6G,EAAUhF,iBAAiB6E,EAAQ7E,eAAW8E,aAAcD,EAAQ7E,UAAUpI,MAAOuK,SAAUhC,EAAUtE,OACzGmJ,EAAUzE,oBAAoBsE,EAAQtE,kBAAcuE,kBAAcpO,EAAWyL,cAAUzL,IAChFsO,GCDHhH,GAAYC,EAAW,CAC3BC,KAAM,CACJ+G,QAAS,OACTC,cAAe,OAEjBC,cAAe,CACbC,aAAc,GAEhBC,YAAa,CACX3G,MAAO,OAIL4G,WAaAC,EACAC,GAdc5N,MAClBA,EADkBD,OAElBA,EAFkBwK,SAGlBA,EAHkB9G,aAIlBA,EAJkBoK,mBAKlBA,EALkBrG,WAMlBA,EANkBtC,kBAOlBA,KACGqB,0GAEGqB,EAAUxB,MACV1E,EAAEA,EAAFuE,KAAKA,GAASC,KACdvC,EAAQ+D,GAAwB1H,EAAOyD,EAAc/B,EAAGuE,EAAKlR,SAAUmQ,GAIvE4I,EAAoBpC,OACT,UAAX3L,EACFwK,EAASmB,EAAMqC,OAAO/N,YACjB,GAAe,QAAXD,EACTwK,aAAamB,EAAMqC,OAAO/N,YACrB,KAECgO,EAAKtC,EAAMqC,OAAOE,GAClBvO,EAAId,OAAO8M,EAAMqC,OAAO/N,OACxBkO,EAAS,GACfxJ,OAAOC,KAAKiJ,GAAYxI,SAAQtC,QAC1BqL,EAAKP,EAAW9K,GAAG9C,MACnB8C,IAAMkL,KACRG,EAAKzO,GACIkO,EAAW9K,GAAGd,MAAKmM,EAAKP,EAAW9K,GAAGd,KAC3CmM,EAAKP,EAAW9K,GAAGZ,MAAKiM,EAAKP,EAAW9K,GAAGZ,MAEjDgM,EAAOpL,GAAKqL,KAEd5D,EAAS2D,KAIPE,EAAa,CAACJ,EAAIpK,EAAMlE,EAAG2O,EAAMC,IACrCxG,gCACEA,gBAACyG,GAAWC,QAASR,EAAIvG,UAAU,uCAAqC,oBACrE7D,GAEHkE,gBAAC2G,KACCR,GAAID,EACJpK,KAAMoK,EACNvG,UAAU,yBACViH,MAAO9K,EACP5D,MAAON,EACPiP,YAAa/K,EACbgL,WAAY,8BAAyBhL,iBAAuB,oBAC5D2G,SAAUuD,EACVe,eAAgBP,GAAWD,GAAQvG,gBAACgH,GAAe1F,SAAS,SAASiF,IACjE9H,QAKK,UAAXxG,EACF4N,EAAQS,EAAW,cAAe,QAASzK,EAAML,SAC5C,CACLsK,EP+UkB,SAAC7I,EAAQhF,EAAQ0D,OAAcuB,yDAAYhF,GAASA,EAClE2D,EAAQmB,GAAcC,EAAQtB,EAAcuB,GAC5C4I,EAAa,MACJ,QAAX7N,EACF6N,EAAWhM,EAAI,CAAE5B,MAAO2D,EAAMtE,IAAI,GAAIU,OAAQ,UAAWiC,IAAK,EAAGE,IAAK,IAAK0B,KAAMoB,EAAU,MAC3F4I,EAAW/L,EAAI,CAAE7B,MAAO2D,EAAMtE,IAAI,GAAIU,OAAQ,UAAWiC,IAAK,EAAGE,IAAK,IAAK0B,KAAMoB,EAAU,MAC3F4I,EAAW9L,EAAI,CAAE9B,MAAO2D,EAAMtE,IAAI,GAAIU,OAAQ,UAAWiC,IAAK,EAAGE,IAAK,IAAK0B,KAAMoB,EAAU,WACtF,GAAe,QAAXjF,EACT6N,EAAWtN,EAAI,CAAEN,MAAO2D,EAAMrC,IAAI,GAAIvB,OAAQ,UAAWiC,IAAK,EAAGE,IAAK,IAAK0B,KAAMoB,EAAU,KAAMqJ,KAAM,KACvGT,EAAW7M,EAAI,CAAEf,MAAO2D,EAAMrC,IAAI,GAAIvB,OAAQ,UAAWiC,IAAK,EAAGE,IAAK,IAAK0B,KAAMoB,EAAU,KAAMqJ,KAAM,KACvGT,EAAWlO,EAAI,CAAEM,MAAO2D,EAAMrC,IAAI,GAAIvB,OAAQ,UAAWiC,IAAK,EAAGE,IAAK,IAAK0B,KAAMoB,EAAU,KAAMqJ,KAAM,UAClG,GAAe,QAAXtO,EACT6N,EAAWtN,EAAI,CAAEN,MAAO2D,EAAM7C,IAAI,GAAIf,OAAQ,UAAWiC,IAAK,EAAGE,IAAK,IAAK0B,KAAMoB,EAAU,KAAMqJ,KAAM,KACvGT,EAAW7M,EAAI,CAAEf,MAAO2D,EAAM7C,IAAI,GAAIf,OAAQ,UAAWiC,IAAK,EAAGE,IAAK,IAAK0B,KAAMoB,EAAU,KAAMqJ,KAAM,KACvGT,EAAW5M,EAAI,CAAEhB,MAAO2D,EAAM7C,IAAI,GAAIf,OAAQ,UAAWiC,IAAK,EAAGE,IAAK,IAAK0B,KAAMoB,EAAU,KAAMqJ,KAAM,UAClG,GAAe,QAAXtO,EAAkB,KACvBvB,IAAEA,GAAQmF,EACVA,EAAML,KAA4B,iBAAdK,EAAML,KAAoBK,EAAML,IAAIF,WAAW,OACrE5E,EAAMmF,EAAML,IAAIxD,UAAU,IAE5B8N,EAAWpP,IAAM,CAAEwB,MAAOxB,EAAKuB,OAAQ,MAAO6D,KAAMoB,EAAU,OAAQqJ,KAAM,UAE5ET,EAAW5N,MAAQgF,EAAUrB,EAAM3D,OACnC4N,EAAW7N,OAAS,iBAEf6N,EOxWQlG,CAAwB/D,EAAO5D,EAAQ0D,EAAc/B,OAC5DqN,EAAQrK,OAAOC,KAAKiJ,GAC1BD,EACE7F,uBAAKE,IAAKR,EAAYC,UAAWG,EAAQtB,MACtCyI,EAAMzP,KAAI0O,GACTlG,gBAACkH,GAAYvC,IAAKuB,EAAIvG,yCAAmCG,EAAQ2F,eAAiB9N,QAASkE,EAAMlE,OAC9F2O,EAAWJ,EAAIJ,EAAWI,GAAIpK,KAAMgK,EAAWI,GAAIhO,MAAO4N,EAAWI,GAAIK,KAAuB,IAAjBU,EAAM/P,mBAO9F8I,gBAACkH,GAAYvH,UAAWG,EAAQ6F,YAAahO,QAASkE,EAAMlE,oBAAmB,cAC5EkO,EACAE,GAAsBlK,EAAMlE,OAASqI,gBAACmH,GAAehB,GAAG,wBAAwBtK,EAAMlE,SAK7FiO,GAAWtF,UAAY,CACrBpI,MAAOqI,GACPtI,OAAQwI,EAAU9C,OAClB8E,SAAUhC,EAAUtE,KAAKqE,WAIzB7E,aAAc8E,EAAUC,KAIxBqF,mBAAoBtF,EAAUC,KAC9BhB,WAAYe,EAAUhD,MAAM,CAAEkD,QAASF,EAAUG,cACjDxD,kBAAmBqD,EAAUC,MAG/BkF,GAAW/E,aAAe,CACxB3I,MAAO,OACPD,OAAQ,QACRyH,gBAAY1I,EACZ2E,cAAc,EACdoK,oBAAoB,EACpB3I,mBAAmB,GAGrB,OAAegK,GAAaxB,IC9HtBtH,GAAYC,EAAW,CAC3BC,KAAM,CACJ+G,QAAS,OACTC,cAAe,MACf6B,SAAU,OACVhP,QAAS,eAEXiP,cAAe,CACb9F,OAAQ,cACRnJ,QAAS,KAIPkP,WAAgB9H,KAAEA,EAAFX,YAAQA,EAARhB,QAAqBA,EAArB0J,SAA8BA,EAA9B7L,aAAwCA,KACtDmE,EAAUxB,MACV1E,EAAEA,GAAMwE,YAOZ4B,uBAAKL,UAAWG,EAAQtB,MACrB5B,OAAOC,KAAKiB,GAAStG,KAAIsE,GACxBkE,gBAACR,IACCC,KAAMA,EACNkF,cAAQ7I,GACRD,MAAOiC,EAAQhC,GACf6D,yCAAmCG,EAAQwH,eAC3CxI,YAAaA,EACbS,QAASzD,EACTH,aAAcA,EACd8L,QAAS,IAhBS3L,CAAAA,QAClB4L,EAAiB9N,EAAEkC,GACrB0L,GAAUA,EAASE,EAAgB5J,EAAQhC,KAc1B6L,CAAkB7L,SAO3CyL,GAAajH,UAAY,CACvBxB,YAAa2B,EAAU/C,OACvB+B,KAAMgB,EAAU/C,OAChBI,QAASyC,GAAoBC,WAC7Bd,WAAYe,EAAUhD,MAAM,CAAEkD,QAASF,EAAUG,cACjD4G,SAAU/G,EAAUtE,KAIpBR,aAAc8E,EAAUC,MAG1B6G,GAAa1G,aAAe,CAC1B/B,YAAa,EACbW,KAAM,GACNC,gBAAY1I,EACZwQ,cAAUxQ,EACV2E,cAAc,GC7DhB,IAAM2C,GAAYC,GAAW,MAC3BC,KAAM,CACJQ,MAAO,OACPE,OAAQ,GACR7G,QAAS,GAGXuP,KAAM,CACJ1I,OAAQ,GACR2I,QAAS,EACTzI,WACE,oNACFL,aAAc,GAGhB+I,MAAO,CACL5I,OAAQ,GACR2I,QAAS,EACT9I,aAAc,EACd1C,gBAAiB,eAGnB0L,MAAO,CACL/I,MAAO,GACPE,OAAQ,GACR8I,UAAW,EACXC,YAAa,EACb5L,gBAAiB,UACjBsC,UAAW,gDAEA,CACTA,UAAW,gDAKjB,SAASuJ,GAAUzJ,OACXqB,EAAUxB,YAGd0B,gBAACmI,OACK1J,GACJqB,QAAS,CACPtB,KAAMsB,EAAQtB,KACdoJ,KAAM9H,EAAQ8H,KACdE,MAAOhI,EAAQgI,MACfC,MAAOjI,EAAQiI,UC7CvB,IAAMzJ,GAAYC,EAAW,CAC3BC,KAAM,CACJ3C,MAAO,OACPmD,MAAO,OACPE,OAAQ,GACR7G,QAAS,EACT+G,WACE,+MACF1C,eAAgB,UAChBL,gBAAiB,QACjBM,mBAAoB,iCAGtBiL,KAAM,CACJ1I,OAAQ,GACR2I,QAAS,EACTzI,WAAYX,wDACoCA,EAAM5C,wBAAe4C,EAAM5C,oCAC3EkD,aAAc,GAGhB+I,MAAO,CACL5I,OAAQ,GACR2I,QAAS,EACT9I,aAAc,GAGhBgJ,MAAO,CACL/I,MAAO,GACPE,OAAQ,GACR8I,UAAW,EACXC,YAAa,EACb5L,gBAAiB,UACjBsC,UAAW,gDAEA,CACTA,UAAW,8CAKjB,SAASyJ,UAAYvM,MAAEA,KAAU4C,iBACzBqB,EAAUxB,GAAU,CAAEzC,MAAAA,WAG1BmE,gBAACmI,OACK1J,GACJqB,QAAS,CACPtB,KAAMsB,EAAQtB,KACdoJ,KAAM9H,EAAQ8H,KACdE,MAAOhI,EAAQgI,MACfC,MAAOjI,EAAQiI,UAKvBK,GAAY9H,UAAY,CACtBzE,MAAO0E,GAAkBC,YC7C3B,IAAMlC,GAAYC,GAAW8J,KAC3B7J,KAAM,CACJnC,gBAAiBgM,EAAMvK,QAAQsB,WAAWkJ,MAC1ChH,SAAU,WACVtC,MAAO,cACPE,OAAQ,cACR7G,QAAS,OAEXkQ,UAAW,CACTC,eAAgB,eAChBC,SAAU,SACVzJ,MAAOP,GAASA,EAAMiK,SACtBrQ,QAAS,GAEXsQ,oBAAqB,CACnB3J,MAAOP,kBAAiBA,EAAMiK,uBAC9BxJ,OAAQ,qBACRsC,OAAQ,GAEVoH,gBAAiB,CACf5J,MAAOP,GAASA,EAAMiK,SACtBrQ,QAAS,mBAEXwQ,eAAgB,CACdtD,QAAS,OACTC,cAAe,MACf6B,SAAU,OACVhP,QAAS,kBACTmQ,eAAgB,iBAElBM,cAAe,GACfC,gBAAiB,CACf/J,MAAO,GACPE,OAAQ,GACRE,WACE,+MACF1C,eAAgB,UAChBC,mBAAoB,gCACpBN,gBAAiB,QACjB0C,aAAc,GAEhBiK,cAAe,CACbhK,MAAO,GACPE,OAAQ,GACRE,WAAYX,GACVA,EAAMC,oJAQF,OACNrC,gBAAiBoC,GAAUA,EAAMC,WAAa,cAAgBD,EAAMpC,gBACpE0C,aAAc,EACdM,OAAQZ,GAAUA,EAAMC,WAAa,oBAAsB,QAE7DuK,iBAAkB,CAChB1D,QAAS,OACTC,cAAe,MACf6B,SAAU,OACVhP,QAAS,cACI,CACX4P,WAAY,SAGhBiB,cAAe,CACbrN,MAAO,UACPsN,WAAY,cAIVC,WAaAC,GAbYnR,MAChBA,EADgB4F,QAEhBA,EAFgBE,aAGhBA,EAHgBsL,SAIhBA,EACA7G,SAAU8G,EALM5N,aAMhBA,EANgB6N,YAOhBA,KACG/K,8FAEG7E,EAAEA,EAAFuE,KAAKA,GAASC,KAChBvC,EAAQmB,GAAc9E,EAAOyD,EAAc/B,EAAGuE,EAAKlR,UACnDwV,EAAW8G,EAEXD,KACDzN,EAAO4G,GAAYzC,EAAM8C,SAASjH,GACnCwN,EAAmBE,OAGf/P,IAAEA,EAAFR,IAAOA,GAAQ6C,GACjBpF,MAAEA,GAAUoF,EAChBpF,OAAkBO,IAAVP,EAAsB,IAAMqB,KAAKwB,MAAc,IAAR7C,OACzCoJ,EAAW9C,GAAYlB,EAAO,OAAO,IACrCQ,gBAAEA,GAAoBR,EAAMO,IAE5B0D,EAAUxB,GAAU,CAAEoK,SADX,IACqBrM,gBAAAA,EAAiBqC,aAAc7C,EAAMlE,QA6BrE8R,EAAoBC,QAClBtS,EAAIuS,EAAWD,GACrBjH,EAASrL,WAwBT4I,gBAAC4J,KAAIlQ,EAAG,EAAGiG,UAAWG,EAAQtB,MAAUC,GACtCuB,gBAAC4J,GAAIjK,UAAWG,EAAQyI,WACtBvI,gBAACwC,IACC7C,+CAAyCG,EAAQ6I,qBACjD9M,MAAOA,EACP4G,SA3CeoH,QACfzS,EAAIuS,EAAWE,EAAQL,EAAc,MAAQ,OACnD/G,EAASrL,IA0CHsL,MAAO8G,IAETxJ,uBAAKL,2CAAqCG,EAAQ8I,kBAChD5I,gBAACkI,kBACa,yBACD,eACXhQ,MAAOsR,EAAcxQ,EAAI,GAAKQ,EAAI,GAClCU,IAAK,EACLE,IAAK,IACLqI,SAhEc,CAACmB,EAAO8F,SACxBtS,EAAIuS,EAAW,CAACD,EAAU7N,EAAMrC,IAAI,GAAIqC,EAAMrC,IAAI,IAAK,OAC7DiJ,EAASrL,OAgEDuE,GACAqE,gBAACoI,kBACa,cACZvM,MAAOgE,EACPiK,kBAAkB,oBACP,eACX5R,MAAOzB,EACPyD,IAAK,EACLE,IAAK,IACLqI,SAtEc,CAACmB,EAAO8F,SAC1BK,EAAWL,EAAW,IACtBtS,EAAIuS,EAAW,CAAC9N,EAAMtE,IAAI,GAAIsE,EAAMtE,IAAI,GAAIsE,EAAMtE,IAAI,GAAIwS,GAAW,OAC3EtH,EAASrL,OAqBT4G,EAAa9G,OAAS,GACpB8I,uBAAKL,2CAAqCG,EAAQ+I,iBAChD7I,uBAAKL,2CAAqCG,EAAQiJ,kBAChD/I,uBAAKL,yCAAmCG,EAAQkJ,kBAEjDhL,EAAaxG,KAAIwS,GAChBhK,gBAAC4F,IACCjB,IAAKqF,EACL9R,MAAO2D,EACP5D,OAAQ+R,EACRrO,gBACAoK,oBAAoB,EACpBpG,yCAAmCG,EAAQgJ,eAC3CrG,SAAUgH,OAsCb3L,GACCkC,gCACEA,gBAACiK,QACDjK,gBAACuH,IACC9H,KAAM,MACN3B,QAASA,EACT0J,SAtEmB,CAAC1L,EAAMoO,SAC9B9S,EAAIuS,EAAWO,GAErB9S,EAAE0E,KAAOA,EACT2G,EAASrL,IAmECuE,aAAcA,KAIpBqE,uBAAKL,4CAAsCG,EAAQmJ,mBAChDpN,EAAMlE,OACLqI,wBAAML,yCAAmCG,EAAQoJ,6BAA6B,kBAC3EtP,EAAEiC,EAAMlE,QAGZ2R,GAAYtJ,gBAACC,GAAOwH,QArGX,KAChB4B,EAAiBxN,KAoG+BjC,EAAE,YAOtDwP,GAAS9I,UAAY,CACnBpI,MAAOqI,GACP+I,SAAU7I,EAAUC,KACpB5C,QAASyC,GACTvC,aAAcuC,GACdkC,SAAUhC,EAAUtE,KAAKqE,WAIzB7E,aAAc8E,EAAUC,KACxB8I,YAAa/I,EAAUC,MAGzB0I,GAASvI,aAAe,CACtB3I,WAAOlB,EACPsS,UAAU,EACVxL,aAAS9G,EACTgH,aAAc,CAAC,MAAO,OACtBrC,cAAc,EACd6N,aAAa,GAGf,OAAepC,GAAagC,ICvOtB9K,GAAYC,EAAW,CAC3BC,KAAM,CACJ+G,QAAS,OACTC,cAAe,MACfxG,MAAO,eAETmL,kBAAmB,CACjB3I,OAAQ,KAIN4I,GAAoBC,EAAwB,CAChDC,KAAM,gBAiBFC,WAAerS,MACnBA,EADmBsS,iBAEnBA,EAFmBlB,SAGnBA,EAHmBxL,QAInBA,EAJmBE,aAKnBA,EALmByM,YAMnBA,EANmBhI,SAOnBA,EAPmBiI,OAQnBA,EARmBC,QASnBA,EATmBhP,aAUnBA,EAVmB6N,YAWnBA,EAXmBoB,cAYnBA,EAZmBxN,kBAanBA,KAEM0C,EAAUxB,KACVuM,EAAYzJ,EAAO,OAClB0J,EAAMC,GAAWjI,GAAS,IAC3BlJ,EAAEA,EAAFuE,KAAKA,GAASC,KACdvC,EAAQ+D,GAAwB1H,EAAOyD,EAAc/B,EAAGuE,EAAKlR,SAAUmQ,GACvE5B,EAlCa,EAACK,EAAOuB,SACvB4N,EAAO5N,kBAA6BvB,EAAMnF,KAAQmF,EAAMC,YACxDkP,EAAK1P,WAAW,UAIhB0P,EAHuB,iBAAdnP,EAAML,KAAqBK,EAAML,IAAIF,WAAW,KAGlDO,EAAML,IAFNoE,GAAsB/D,EAAO,OAIpB,SAATmP,IACTA,EAAOnP,EAAML,KAERwP,GAuBKC,CAAapP,EAAOuB,GAEhC6D,GAAU,KACJwJ,GACFM,GAAQ,KAET,CAACN,QAEES,EAAc,SACZlR,EAAImR,QAAQN,EAAUlK,SAC5BoK,EAAQ/Q,GACJ0Q,GAAQA,EAAO1Q,IAGfoR,EAAc,KAClBL,GAAQ,GACJL,GAAQA,GAAO,IAcjB3H,EACF/C,gBAACoJ,IACClR,MAAO2D,EACPuH,MAAO,CAAE9B,SAAU,YACnBgI,SAAUA,EACVxL,QAASA,EACTE,aAAcA,EACdrC,aAAcA,EACd6N,YAAaA,EACb/G,SApBsB4I,IACxB5I,EAAS4I,GACL/B,GACF8B,OAqBFrI,EADE4H,EACIA,EAAQ5H,GAGZ/C,gBAACsL,GACCnF,GAAG,gBACH2E,KAAMA,EACNS,SAAUV,EAAUlK,QACpB6K,QAASJ,EACTK,aAAc,CACZC,SAAU,SACVC,WAAY,UAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,WAGb5I,OAKH8I,EAAY,YACXjB,IACHiB,EAAYrB,EACVxK,uBAAK+E,KAAK,uBAAqB,sBAAsB0C,QAASyD,GAC3DrP,EAAML,KAGTwE,gBAAC8L,GAAUjQ,MAAM,UAAU3D,MAAOsD,EAAKiH,SA9CtBmB,IACnBnB,EAASmB,EAAMqC,OAAO/N,sBA6CuD,uBAK7E8H,gBAAC+L,GAAe3B,kBAAmBA,IACjCpK,uBAAKE,IAAK2K,EAAWlL,UAAWG,EAAQtB,MACtCwB,gBAACR,kBACa,qBACZG,6CAAuCG,EAAQqK,mBAC/CtO,MAAOA,EACP4L,QAASyD,IAEVW,EACA9I,KAMTwH,GAAYjK,UAAY,CACtBpI,MAAOqI,GACPiK,iBAAkB/J,EAAUC,KAC5B4I,SAAU7I,EAAUC,KACpB5C,QAASyC,GACTvC,aAAcuC,GACdkC,SAAUhC,EAAUtE,KAAKqE,WACzBkK,OAAQjK,EAAUtE,KAClBsO,YAAahK,EAAUC,KACvBiK,QAASlK,EAAUtE,KAInBR,aAAc8E,EAAUC,KACxB8I,YAAa/I,EAAUC,KACvBkK,cAAenK,EAAUC,KACzBtD,kBAAmBqD,EAAUC,MAG/B6J,GAAY1J,aAAe,CACzB3I,MAAO,OACPsS,kBAAkB,EAClBlB,UAAU,EACVxL,aAAS9G,EACTgH,aAAc,CAAC,MAAO,OACtB0M,YAAQ1T,EACRyT,aAAa,EACbE,aAAS3T,EACT2E,cAAc,EACd6N,aAAa,EACboB,eAAe,EACfxN,mBAAmB,GAGrB,OAAegK,GAAamD"}